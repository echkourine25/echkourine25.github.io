<html>
    <head>
        <meta charset="UTF-8">
        <title>m - Clock</title>
    </head>
    <manifest>
        <application android:theme="@style/Theme.AppCompat">
        </application>
    </manifest>
    <body>
        <div class="myBody" id="myBody">
            <fieldset>
                <legend>Réglez votre horloge :</legend>
                <table><tr><td>Heure : </td><td><input type="number" id="hours" name="hours" min="0" max="23"/>
                </td></tr><tr><td>Minutes  : </td><td><input type="number" id="minutes" name="minutes" min="0" max="59"/>
                </td></tr><tr><td>Secondes : </td><td><input type="number" id="seconds" name="seconds" min="0" max="59"/>
                </td></tr><tr><td></td><td id="myButton"><button>Régler</button>
                </td></tr></table>
            </fieldset>
        </div>
        <div>
            <input type="radio" id="0" checked><label for="0">Défault</label>
        </div>
        <div>
            <button id="reveilBtn">Arrêter réveil</button>
        </div>
        <div class="addwakeup">
            <fieldset>
                <legend>Ajoutez un réveil :</legend>
                <table><tr><td>Heure : </td><td><input type="number" id="wuhours" name="hours" min="0" max="23"/>
                </td></tr><tr><td>Minutes  : </td><td><input type="number" id="wuminutes" name="minutes" min="0" max="59"/>
                </td></tr><tr><td>Secondes : </td><td><input type="number" id="wuseconds" name="seconds" min="0" max="59"/>
                </td></tr><tr><td></td><td id="myButtonWu"><button>Ajouter</button>
                </td></tr></table>
            </fieldset>
        </div>
        <div>
            <table>
                <tbody id="wulist">

                </tbody>
            </table>
        </div>
        <audio 
            id="reveil"
            hidden
            src="ALRM.mp3">
            </audio>
        <div id="count" hidden>

        </div>
    </body>
    <style>

        .clock {
                 border-radius: 50%;
                 background: #fff;
                 border: 5px solid white;
                 box-shadow: inset 2px 3px 8px 0 rgba(0, 0, 0, 0.1);
        }
        
        .wrap {
                 position: relative;
                 width: 175px;
                 height: 175px;
        }
        
        .minute, .heure {
                 position: absolute;
                 height: 50px; width: 3px;
                 margin: auto;
                 top: -27%; left: 0;    bottom: 0; right: 0;
                 transform-origin: bottom center;
                 transform: rotate(0deg);
                 box-shadow: 0 0 10px 0 rgba(0, 0, 0, 0.4);
             background: black;
        }
        
        .minute {
                 position: absolute;
                 height: 65px;
                 width: 2px;
                 top: -38%;
                 left: 0;
                 box-shadow: 0 0 10px 0 rgba(0, 0, 0, 0.4);
                 transform: rotate(90deg);
        }
        
        .seconde {
                 position: absolute;
                 height: 45px;
                 width: 1px;
                 margin: auto;
                 top: -26%;
                 left: 0;
                 bottom: 0;
                 right: 0;
                 border-radius: 4px;
                 background: #ff4b3e;
                 transform-origin: bottom center;
                 transform: rotate(180deg);
        }
        
        .dot {
                 position: absolute;
                 top: 0;
                 left: 0;
                 right: 0;
                 bottom: 0;
                 width: 6px;
                 height: 6px;
                 border-radius: 50%;
                 background: white;
                 border: 2px solid #1b1b1b;
                 border-radius: 50%;
                 margin: auto;
        }
        
        </style>
    <script>
        function addElement(myCurrentDiv, myNewDivId, myValue) {
            seconds=document.getElementById("wuseconds").value;
            minutes=document.getElementById("wuminutes").value;
            hours=document.getElementById("wuhours").value;
            if(seconds.length < 1){
                seconds = "00";
            }else if(seconds.length < 2){
                seconds = "0"+seconds;
            }if(minutes.length < 1){
                minutes="00";
            }else if(minutes.length<2){
                minutes="0"+minutes;
            }if(hours.length<1){
                hours="00";
            }else if(hours.length<2){
                hours="0"+hours;
            }
             //add the newly created element and its content into the DOM
            var currentDiv = document.getElementById(myCurrentDiv);
            currentDiv.innerHTML += "<tr id=\"wulist"+myNewDivId+"\"><td id=\"wulisttd"+myNewDivId+"\">"+hours+":"+minutes+":"+seconds+"</td></tr>";
        }
        var wucount = 0;
        var wuButton = document.getElementById("myButtonWu");
        wuButton.onclick = function(){
            addElement("wulist", wucount, "");
            wucount+=1;
        }
        var reveil = document.querySelector('#reveilBtn');
        reveil.onclick = function(){

            var myAudio = document.querySelector('#reveil');
                myAudio.loop = false;
                myAudio.pause();

        }
        var btn = document.getElementById('myButton');
        btn.onclick = function() {
            var  hours = document.getElementById("hours").value;
            var minutes = document.getElementById("minutes").value;
            var seconds = document.getElementById("seconds").value;
            var dt=new Date("1970,01,01,"+hours+":"+minutes+":"+seconds);
        
            function clock() {
                dt.setSeconds(dt.getSeconds() + 1);
                hours=Number(dt.getHours());
                minutes=Number(dt.getMinutes());
                seconds=Number(dt.getSeconds());
                if(seconds < 10){
                    seconds = Number("0"+seconds);
                }if(hours < 10){
                    hours = Number("0"+hours);
                }if(minutes < 10){
                    minutes = Number("0"+minutes);
                }
                hour = hours * 30;
                minute = minutes * 6;
                second = seconds * 6;
                document.querySelector('.heure').style.WebkitTransform = `rotate(${hour}deg)`;
                document.querySelector('.heure').style.transform = `rotate(${hour}deg)`;
                document.querySelector('.heure').style.msTransform = `rotate(${hour}deg)`;
                document.querySelector('.minute').style.WebkitTransform = `rotate(${minute}deg)`;
                document.querySelector('.minute').style.transform = `rotate(${minute}deg)`;
                document.querySelector('.minute').style.msTransform = `rotate(${minute}deg)`;
                document.querySelector('.seconde').style.WebkitTransform = `rotate(${second}deg)`;
                document.querySelector('.seconde').style.transform = `rotate(${second}deg)`;
                document.querySelector('.seconde').style.msTransform = `rotate(${second}deg)`;
                document.querySelector('.myTime').textContent = hours + ":" + minutes+ ":" + seconds;
                var i=0;
                for(i=0;i<wucount; i++){
                    var myTime;
                    myArray = new Array();
                    console.log(document.querySelector("#wulisttd"+i).textContent)
                    myArray=document.querySelector("#wulisttd"+i).textContent.split(":");
                    if(hours == myArray[0] && minutes == myArray[1] && seconds == myArray[2]){
                        var reveilT=true;
                        var myAudio = document.querySelector('#reveil');
                        myAudio.loop = true;
                        myAudio.play();
                    }
                }
            }
            myButton=document.getElementById("myButton");
            myButton.innerHTML = "";
            myBody=document.getElementById("myBody");
                myBody.innerHTML = `
                    <div style="text-align:center;height:245px;width:208px;">
                        <div class="tz">
                        </div>
                        <div class="clock">
                            <div class="wrap">
                                <span class="heure"></span>
                                <span class="minute"></span>
                                <span class="seconde"></span>
                                <span class="dot"></span>
                            </div>
                        </div>
                        <div class="myTime">
                        </div>
                    </div>`;
            setInterval(clock, 1000);
        }
    </script>
</html>