<html><h1>Site encrypted. Use the right extension for your browser to access it.</h1></html><div style="display: none;">

<html><h1>Site encrypted. Use the right extension for your browser to access it.</h1></html><html><h1>Site encrypted. Use the right extension for your browser to access it.</h1></html>
;)()}
))}  
rnul nruter    
/*     
.eulav detropxe eht sa noitcnuf a nruter nac *     
eludom eht tub ,tcejbo na snruter elpmaxe sihT *     
.tropxe eludom eht enifed ot eulav a nruter tsuJ *     
**/    
{ )( noitcnuf ,siht(}  
}    
)(yrotcaf = rnul.toor      
)wodniw si toor( slabolg resworB //      
{ esle }    
)(yrotcaf = stropxe.eludom      
/*       
.edoN ekil *       
,stropxe.eludom troppus taht stnemnorivne ekil-SJnommoC ylno *       
tub ,SJnommoC tcirts htiw krow ton seoD .edoN *       
**/      
{ )'tcejbo' === stropxe foepyt( fi esle }    
)yrotcaf(enifed      
.eludom suomynona na sa retsigeR .DMA //      
{ )dma.enifed && 'noitcnuf' === enifed foepyt( fi    
{ )yrotcaf ,toor( noitcnuf(;  
/*   
sj.stropxEnruter/retsam/bolb/dmu/sjdmu/moc.buhtig//:sptth morf edoc tropxE *   
labolg resworb a sa ro SJnommoC ,DMA aiv eludom eht tropxe *   
**/  

}
}  
)dne.emexeLtxen ,trats.emexeLtxen ,egasseMrorre( rorrEesraPyreuQ.rnul wen worht      
"'" + epyt.emexeLtxen + "' epyt emexel detcepxenU" = egasseMrorre rav      
:tluafed    
ecneserPesrap.resraPyreuQ.rnul nruter      
)(esualCtxen.resrap      
:ECNESERP.rexeLyreuQ.rnul esac    
tsooBesrap.resraPyreuQ.rnul nruter      
:TSOOB.rexeLyreuQ.rnul esac    
ecnatsiDtidEesrap.resraPyreuQ.rnul nruter      
:ECNATSID_TIDE.rexeLyreuQ.rnul esac    
dleiFesrap.resraPyreuQ.rnul nruter      
)(esualCtxen.resrap      
:DLEIF.rexeLyreuQ.rnul esac    
mreTesrap.resraPyreuQ.rnul nruter      
)(esualCtxen.resrap      
:MRET.rexeLyreuQ.rnul esac    
{ )epyt.emexeLtxen( hctiws  

}  
nruter    
)(esualCtxen.resrap    
{ )denifednu == emexeLtxen( fi  

)(emexeLkeep.resrap = emexeLtxen rav  

tsoob = tsoob.esualCtnerruc.resrap  

}  
)dne.emexel ,trats.emexel ,egasseMrorre( rorrEesraPyreuQ.rnul wen worht    
"ciremun eb tsum tsoob" = egasseMrorre rav    
{ ))tsoob(NaNsi( fi  

)01 ,rts.emexel(tnIesrap = tsoob rav  

}  
nruter    
{ )denifednu == emexel( fi  

)(emexeLemusnoc.resrap = emexel rav  
{ )resrap( noitcnuf = tsooBesrap.resraPyreuQ.rnul

}
}  
)dne.emexeLtxen ,trats.emexeLtxen ,egasseMrorre( rorrEesraPyreuQ.rnul wen worht      
"'" + epyt.emexeLtxen + "' epyt emexel detcepxenU" = egasseMrorre rav      
:tluafed    
ecneserPesrap.resraPyreuQ.rnul nruter      
)(esualCtxen.resrap      
:ECNESERP.rexeLyreuQ.rnul esac    
tsooBesrap.resraPyreuQ.rnul nruter      
:TSOOB.rexeLyreuQ.rnul esac    
ecnatsiDtidEesrap.resraPyreuQ.rnul nruter      
:ECNATSID_TIDE.rexeLyreuQ.rnul esac    
dleiFesrap.resraPyreuQ.rnul nruter      
)(esualCtxen.resrap      
:DLEIF.rexeLyreuQ.rnul esac    
mreTesrap.resraPyreuQ.rnul nruter      
)(esualCtxen.resrap      
:MRET.rexeLyreuQ.rnul esac    
{ )epyt.emexeLtxen( hctiws  

}  
nruter    
)(esualCtxen.resrap    
{ )denifednu == emexeLtxen( fi  

)(emexeLkeep.resrap = emexeLtxen rav  

ecnatsiDtide = ecnatsiDtide.esualCtnerruc.resrap  

}  
)dne.emexel ,trats.emexel ,egasseMrorre( rorrEesraPyreuQ.rnul wen worht    
"ciremun eb tsum ecnatsid tide" = egasseMrorre rav    
{ ))ecnatsiDtide(NaNsi( fi  

)01 ,rts.emexel(tnIesrap = ecnatsiDtide rav  

}  
nruter    
{ )denifednu == emexel( fi  

)(emexeLemusnoc.resrap = emexel rav  
{ )resrap( noitcnuf = ecnatsiDtidEesrap.resraPyreuQ.rnul

}
}  
)dne.emexeLtxen ,trats.emexeLtxen ,egasseMrorre( rorrEesraPyreuQ.rnul wen worht      
"'" + epyt.emexeLtxen + "' epyt emexel detcepxenU" = egasseMrorre rav      
:tluafed    
ecneserPesrap.resraPyreuQ.rnul nruter      
)(esualCtxen.resrap      
:ECNESERP.rexeLyreuQ.rnul esac    
tsooBesrap.resraPyreuQ.rnul nruter      
:TSOOB.rexeLyreuQ.rnul esac    
ecnatsiDtidEesrap.resraPyreuQ.rnul nruter      
:ECNATSID_TIDE.rexeLyreuQ.rnul esac    
dleiFesrap.resraPyreuQ.rnul nruter      
)(esualCtxen.resrap      
:DLEIF.rexeLyreuQ.rnul esac    
mreTesrap.resraPyreuQ.rnul nruter      
)(esualCtxen.resrap      
:MRET.rexeLyreuQ.rnul esac    
{ )epyt.emexeLtxen( hctiws  

}  
nruter    
)(esualCtxen.resrap    
{ )denifednu == emexeLtxen( fi  

)(emexeLkeep.resrap = emexeLtxen rav  

}  
eslaf = enilepiPesu.esualCtnerruc.resrap    
{ )1- =! )"*"(fOxedni.rts.emexel( fi  

)(esaCrewoLot.rts.emexel = mret.esualCtnerruc.resrap  

}  
nruter    
{ )denifednu == emexel( fi  

)(emexeLemusnoc.resrap = emexel rav  
{ )resrap( noitcnuf = mreTesrap.resraPyreuQ.rnul

}
}  
)dne.emexeLtxen ,trats.emexeLtxen ,egasseMrorre( rorrEesraPyreuQ.rnul wen worht      
"'" + epyt.emexeLtxen + "' dnuof ,mret gnitcepxe" = egasseMrorre rav      
:tluafed    
mreTesrap.resraPyreuQ.rnul nruter      
:MRET.rexeLyreuQ.rnul esac    
{ )epyt.emexeLtxen( hctiws  

}  
)dne.emexel ,trats.emexel ,egasseMrorre( rorrEesraPyreuQ.rnul wen worht    
"gnihton dnuof ,mret gnitcepxe" = egasseMrorre rav    
{ )denifednu == emexeLtxen( fi  

)(emexeLkeep.resrap = emexeLtxen rav  

]rts.emexel[ = sdleif.esualCtnerruc.resrap  

}  
)dne.emexel ,trats.emexel ,egasseMrorre( rorrEesraPyreuQ.rnul wen worht    

sdleiFelbissop + " :sdleif elbissop ,'" + rts.emexel + "' dleif desingocernu" = egasseMrorre        
,)' ,'(nioj.)} "'" + f + "'" nruter { )f( noitcnuf(pam.sdleiFlla.yreuq.resrap = sdleiFelbissop rav    
{ )1- == )rts.emexel(fOxedni.sdleiFlla.yreuq.resrap( fi  

}  
nruter    
{ )denifednu == emexel( fi  

)(emexeLemusnoc.resrap = emexel rav  
{ )resrap( noitcnuf = dleiFesrap.resraPyreuQ.rnul

}
}  
)dne.emexeLtxen ,trats.emexeLtxen ,egasseMrorre( rorrEesraPyreuQ.rnul wen worht      
"'" + epyt.emexeLtxen + "' dnuof ,dleif ro mret gnitcepxe" = egasseMrorre rav      
:tluafed    
mreTesrap.resraPyreuQ.rnul nruter      
:MRET.rexeLyreuQ.rnul esac    
dleiFesrap.resraPyreuQ.rnul nruter      
:DLEIF.rexeLyreuQ.rnul esac    
{ )epyt.emexeLtxen( hctiws  

}  
)dne.emexel ,trats.emexel ,egasseMrorre( rorrEesraPyreuQ.rnul wen worht    
"gnihton dnuof ,dleif ro mret gnitcepxe" = egasseMrorre rav    
{ )denifednu == emexeLtxen( fi  

)(emexeLkeep.resrap = emexeLtxen rav  

}  
)dne.emexel ,trats.emexel ,egasseMrorre( rorrEesraPyreuQ.rnul wen worht      
"'" + rts.emexel + "'rotarepo ecneserp desingocernu" = egasseMrorre rav      
:tluafed    
kaerb      
DERIUQER.ecneserp.yreuQ.rnul = ecneserp.esualCtnerruc.resrap      
:"+" esac    
kaerb      
DETIBIHORP.ecneserp.yreuQ.rnul = ecneserp.esualCtnerruc.resrap      
:"-" esac    
{ )rts.emexel( hctiws  

}  
nruter    
{ )denifednu == emexel( fi  

)(emexeLemusnoc.resrap = emexel rav  
{ )resrap( noitcnuf = ecneserPesrap.resraPyreuQ.rnul

}
}  
)dne.emexel ,trats.emexel ,egasseMrorre( rorrEesraPyreuQ.rnul wen worht      

}      
"'" + rts.emexel + "' eulav htiw " =+ egasseMrorre        
{ )1 => htgnel.rts.emexel( fi      

epyt.emexel + " dnuof ,mret a ro dleif a rehtie detcepxe" = egasseMrorre rav      
:tluafed    
mreTesrap.resraPyreuQ.rnul nruter      
:MRET.rexeLyreuQ.rnul esac    
dleiFesrap.resraPyreuQ.rnul nruter      
:DLEIF.rexeLyreuQ.rnul esac    
ecneserPesrap.resraPyreuQ.rnul nruter      
:ECNESERP.rexeLyreuQ.rnul esac    
{ )epyt.emexel( hctiws  

}  
nruter    
{ )denifednu == emexel( fi  

)(emexeLkeep.resrap = emexel rav  
{ )resrap( noitcnuf = esualCesrap.resraPyreuQ.rnul

}
}{ = esualCtnerruc.siht  
)esualCdetelpmoc(esualc.yreuq.siht  
esualCtnerruc.siht = esualCdetelpmoc rav  
{ )( noitcnuf = esualCtxen.epytotorp.resraPyreuQ.rnul

}
emexel nruter  
1 =+ xdIemexel.siht  
)(emexeLkeep.siht = emexel rav  
{ )( noitcnuf = emexeLemusnoc.epytotorp.resraPyreuQ.rnul

}
]xdIemexel.siht[semexel.siht nruter  
{ )( noitcnuf = emexeLkeep.epytotorp.resraPyreuQ.rnul

}
yreuq.siht nruter  

}  
)siht(etats = etats    
{ )etats( elihw  

esualCesrap.resraPyreuQ.rnul = etats rav  

semexel.rexel.siht = semexel.siht  
)(nur.rexel.siht  
{ )( noitcnuf = esrap.epytotorp.resraPyreuQ.rnul

}
0 = xdIemexel.siht  
}{ = esualCtnerruc.siht  
yreuq = yreuq.siht  
)rts( rexeLyreuQ.rnul wen = rexel.siht  
{ )yreuq ,rts( noitcnuf = resraPyreuQ.rnul

}
}  
}    
mreTxel.rexeLyreuQ.rnul nruter      
{ ))rotarapeSmret.rexeLyreuQ.rnul(hctam.rahc( fi    

}    
txeTxel.rexeLyreuQ.rnul nruter      
)ECNESERP.rexeLyreuQ.rnul(time.rexel      
{ )1 === )(htdiw.rexel && "-" == rahc( fi    
deredisnoc era "-" gnidael //    
ylno taht erusne ot htgnel rof gnikcehc //    
detibihorp si ecneserp mret setacidni "-" //    

}    
txeTxel.rexeLyreuQ.rnul nruter      
)ECNESERP.rexeLyreuQ.rnul(time.rexel      
{ )1 === )(htdiw.rexel && "+" == rahc( fi    
deredisnoc era "+" gnidael //    
ylno taht erusne ot htgnel rof gnikcehc //    
deriuqer si ecneserp mret setacidni "+" //    

}    
tsooBxel.rexeLyreuQ.rnul nruter      
}      
)MRET.rexeLyreuQ.rnul(time.rexel        
{ )0 > )(htdiw.rexel( fi      
)(pukcab.rexel      
{ )"^" == rahc( fi    

}    
ecnatsiDtidExel.rexeLyreuQ.rnul nruter      
}      
)MRET.rexeLyreuQ.rnul(time.rexel        
{ )0 > )(htdiw.rexel( fi      
)(pukcab.rexel      
{ )"~" == rahc( fi    

}    
dleiFxel.rexeLyreuQ.rnul nruter      
{ )":" == rahc( fi    

}    
eunitnoc      
)(retcarahCepacse.rexel      
{ )29 == )0(tAedoCrahc.rahc( fi    
'\' si retcarahc epacsE //    

}    
SOExel.rexeLyreuQ.rnul nruter      
{ )SOE.rexeLyreuQ.rnul == rahc( fi    

)(txen.rexel = rahc rav    
{ )eurt( elihw  
{ )rexel( noitcnuf = txeTxel.rexeLyreuQ.rnul

rotarapes.rezinekot.rnul = rotarapeSmret.rexeLyreuQ.rnul
.gnirts //
hcraes a gnisu elbahcraesnu sdrow emos sekam taht yaw a hcus //
ni rotarapes eht egnahc ot elbissop si ti taht snaem sihT //
//
.: .g.e ,gnirts hcraes eht nihtiw desu ydaerla sretcarahc //
laiceps eht fo rehto yna htiw hsalc _thgim_ ti os rezinekot //
eht no rotarapes eht egnahc ot resu eht rof elbissop si tI //
//
.tnemucod a nihtiw snekot emos rof hcraes ot elbissop ton //
si ti esiwrehto hctam dluohs esehT .tnemucod a nihtiw //
sdleif gnisinekot nehw desu rotarapes eht sehctam sihT //

}
}  
)MRET.rexeLyreuQ.rnul(time.rexel    
{ )0 > )(htdiw.rexel( fi  
{ )rexel( noitcnuf = SOExel.rexeLyreuQ.rnul

}
txeTxel.rexeLyreuQ.rnul nruter  
)TSOOB.rexeLyreuQ.rnul(time.rexel  
)(nuRtigiDtpecca.rexel  
)(erongi.rexel  
{ )rexel( noitcnuf = tsooBxel.rexeLyreuQ.rnul

}
txeTxel.rexeLyreuQ.rnul nruter  
)ECNATSID_TIDE.rexeLyreuQ.rnul(time.rexel  
)(nuRtigiDtpecca.rexel  
)(erongi.rexel  
{ )rexel( noitcnuf = ecnatsiDtidExel.rexeLyreuQ.rnul

}
}  
txeTxel.rexeLyreuQ.rnul nruter    
{ ))(erom.rexel( fi  

)(erongi.rexel  

}  
)MRET.rexeLyreuQ.rnul(time.rexel    
)(pukcab.rexel    
{ )1 > )(htdiw.rexel( fi  
{ )rexel( noitcnuf = mreTxel.rexeLyreuQ.rnul

}
txeTxel.rexeLyreuQ.rnul nruter  
)(erongi.rexel  
)DLEIF.rexeLyreuQ.rnul(time.rexel  
)(pukcab.rexel  
{ )rexel( noitcnuf = dleiFxel.rexeLyreuQ.rnul

'ECNESERP' = ECNESERP.rexeLyreuQ.rnul
'TSOOB' = TSOOB.rexeLyreuQ.rnul
'ECNATSID_TIDE' = ECNATSID_TIDE.rexeLyreuQ.rnul
'MRET' = MRET.rexeLyreuQ.rnul
'DLEIF' = DLEIF.rexeLyreuQ.rnul
'SOE' = SOE.rexeLyreuQ.rnul

}
htgnel.siht < sop.siht nruter  
{ )( noitcnuf = erom.epytotorp.rexeLyreuQ.rnul

}
}  
)(pukcab.siht    
{ )SOE.rexeLyreuQ.rnul =! rahc( fi  

)85 < edoCrahc && 74 > edoCrahc( elihw }  
)0(tAedoCrahc.rahc = edoCrahc    
)(txen.siht = rahc    
{ od  

edoCrahc ,rahc rav  
{ )( noitcnuf = nuRtigiDtpecca.epytotorp.rexeLyreuQ.rnul

}
1 =- sop.siht  
{ )( noitcnuf = pukcab.epytotorp.rexeLyreuQ.rnul

}
sop.siht = trats.siht  

}  
1 =+ sop.siht    
{ )sop.siht == trats.siht( fi  
{ )( noitcnuf = erongi.epytotorp.rexeLyreuQ.rnul

}
trats.siht - sop.siht nruter  
{ )( noitcnuf = htdiw.epytotorp.rexeLyreuQ.rnul

}
rahc nruter  
1 =+ sop.siht  
)sop.siht(tArahc.rts.siht = rahc rav  

}  
SOE.rexeLyreuQ.rnul nruter    
{ )htgnel.siht => sop.siht( fi  
{ )( noitcnuf = txen.epytotorp.rexeLyreuQ.rnul

}
1 =+ sop.siht  
)1 - sop.siht(hsup.snoitisoPrahCepacse.siht  
{ )( noitcnuf = retcarahCepacse.epytotorp.rexeLyreuQ.rnul

}
sop.siht = trats.siht  

)}  
sop.siht :dne    
,trats.siht :trats    
,)(gnirtSecils.siht :rts    
,epyt :epyt    
{(hsup.semexel.siht  
{ )epyt( noitcnuf = time.epytotorp.rexeLyreuQ.rnul

}
)''(nioj.secilSbus nruter  

0 = htgnel.snoitisoPrahCepacse.siht  
))sop.siht ,tratSecils(ecils.rts.siht(hsup.secilSbus  

}  
1 + dnEecils = tratSecils    
))dnEecils ,tratSecils(ecils.rts.siht(hsup.secilSbus    
]i[snoitisoPrahCepacse.siht = dnEecils    
{ )++i ;htgnel.snoitisoPrahCepacse.siht < i ;0 = i rav( rof  

sop.siht = dnEecils      
,trats.siht = tratSecils      
,][ = secilSbus rav  
{ )( noitcnuf = gnirtSecils.epytotorp.rexeLyreuQ.rnul

}
}  
)siht(etats = etats    
{ )etats( elihw  

txeTxel.rexeLyreuQ.rnul = etats rav  
{ )( noitcnuf = nur.epytotorp.rexeLyreuQ.rnul

}
][ = snoitisoPrahCepacse.siht  
0 = trats.siht  
0 = sop.siht  
htgnel.rts = htgnel.siht  
rts = rts.siht  
][ = semexel.siht  
{ )rts( noitcnuf = rexeLyreuQ.rnul
rorrE wen = epytotorp.rorrEesraPyreuQ.rnul

}
dne = dne.siht  
trats = trats.siht  
egassem = egassem.siht  
"rorrEesraPyreuQ" = eman.siht  
{ )dne ,trats ,egassem( noitcnuf = rorrEesraPyreuQ.rnul
}
siht nruter  

)esualc(esualc.siht  

)(gnirtSot.mret = mret.esualc  
}{ || snoitpo = esualc rav  

}  
siht nruter    
)siht ,} ))snoitpo(enolc.slitu.rnul ,t(mret.siht { )t( noitcnuf(hcaErof.mret    
{ ))mret(yarrAsi.yarrA( fi  
{ )snoitpo ,mret( noitcnuf = mret.epytotorp.yreuQ.rnul
/* 
))"rab oof"(rezinekot.rnul(mret.yreuq * 
>noitpac/<smret sa meht gnisu erofeb snekot ot gnirts a trevnoc ot rezinekot.rnul gnisu>noitpac< elpmaxe@ * 
)} * 
GNILIART.dracdliw.yreuQ.rnul :dracdliw   * 
,01 :tsoob   * 
,]"eltit"[ :sdleif   * 
{ ,"oof"(mret.yreuq * 
>noitpac/<dracdliw gniliart citamotua dna tsoob mret ,sdleif hcraes gniyficeps dna yreuq a ot mret elgnis a gnidda>noitpac< elpmaxe@ * 
)"oof"(mret.yreuq * 
>noitpac/<yreuq a ot mret elgnis a gnidda>noitpac< elpmaxe@ * 
esualC~yreuQ.rnul ees@ * 
esualc#yreuQ.rnul ees@ * 
}yreuQ.rnul{ snruter@ * 
.esualc yreuq eht ot dda ot seitreporp lanoitidda ynA - ]snoitpo[ }tcejbo{ marap@ * 
.yreuq eht ot dda ot )s(mret ehT - mret }][tcejbo|tcejbo{ marap@ * 
* 
.snoitpo emas eht erahs lliw yarra eht ni mret hcae ,yarra * 
na sa dessap eb nac smret elpitluM .`gnirtSot` gnillac yb gnirts a ot detrevnoc eb lliw mret ehT * 
* 
.dohtem siht gnillac erofeb enod eb dluohs gnirts ekil-nekot ro nekot a ot * 
noisrevnoc daetsnI .dohtem siht yb demrofrep eb lliw noitazinekot on .e.i ,si sa desu si mret ehT * 
* 
.yreuq siht pu ekam taht sesualc fo tsil eht ot * 
}esualC~yreuQ.rnul knil@{ a etaerc lliw siht srevoc eht rednu ,yreuq tnerruc eht ot mret a sddA * 
**/

}
eurt nruter  

}  
}    
eslaf nruter      
{ )DETIBIHORP.ecneserp.yreuQ.rnul =! ecneserp.]i[sesualc.siht( fi    
{ )++i ;htgnel.sesualc.siht < i ;0 = i rav( rof  
{ )( noitcnuf = detageNsi.epytotorp.yreuQ.rnul
/* 
naeloob snruter@ * 
* 
.stluser detcepxe eht * 
nruter ot gnissecorp laiceps emos eriuqer seireuq esehT .detibihorp * 
fo ecneserp a sah esualc yreve hcihw ni eno si yreuq detagen A * 
**/

}
siht nruter  

)esualc(hsup.sesualc.siht  

}  
LANOITPO.ecneserp.yreuQ.rnul = ecneserp.esualc    
{ ))esualc ni 'ecneserp'(!( fi  

}  
"*" + mret.esualc + "" = mret.esualc    
{ ))dracdliw.yreuQ.rnul =! )1-(ecils.mret.esualc( && )GNILIART.dracdliw.yreuQ.rnul & dracdliw.esualc(( fi  

}  
mret.esualc + "*" = mret.esualc    
{ ))dracdliw.yreuQ.rnul =! )0(tArahc.mret.esualc( && )GNIDAEL.dracdliw.yreuQ.rnul & dracdliw.esualc(( fi  

}  
ENON.dracdliw.yreuQ.rnul = dracdliw.esualc    
{ ))esualc ni 'dracdliw'(!( fi  

}  
eurt = enilepiPesu.esualc    
{ ))esualc ni 'enilepiPesu'(!( fi  

}  
1 = tsoob.esualc    
{ ))esualc ni 'tsoob'(!( fi  

}  
sdleiFlla.siht = sdleif.esualc    
{ ))esualc ni 'sdleif'(!( fi  
{ )esualc( noitcnuf = esualc.epytotorp.yreuQ.rnul
/* 
}yreuQ.rnul{ snruter@ * 
esualC~yreuQ.rnul ees@ * 
.yreuq siht ot dda ot esualc ehT - esualc }esualC~yreuQ.rnul{ marap@ * 
* 
.esualc eht ot deilppa si 1 fo tsoob tluafed a * 
noitidda nI .dehctam eb lliw sdleif lla dehctam eb ot sdleif eht sniatnoc esualc eht sselnU * 
* 
.yreuq siht ot }esualC~yreuQ.rnul knil@{ a sddA * 
**/

/* 
.stnemucod gnihctam yna ni ecneserp smret ehT - ]LANOITPO.ecneserp.yreuQ.rnul=ecneserp[ }rebmun{ ytreporp@ * 
.dedneperp ro dedneppa sdracdliw evah dluohs mret eht rehtehW - ]ENON.dracdliw.yreuQ.rnul=dracdliw[ }rebmun{ ytreporp@ * 
.enilepip hcraes eht hguorht dessap eb dluohs mret eht rehtehW - ]enilepiPesu[ }naeloob{ ytreporp@ * 
.eb dluohs hctam eht yzzuf woh dna ,deilppa gnihctam yzzuf evah dluohs mret eht rehtehW - ]ecnatsiDtide[ }rebmun{ ytreporp@ * 
.esualc siht gnihctam nehw deilppa eb dluohs taht tsoob ynA - ]1=tsoob[ }rebmun{ ytreporp@ * 
.tsniaga dehctam eb dluohs esualc siht xedni na ni sdleif ehT - sdleif }][gnirts{ ytreporp@ * 
esualC~yreuQ.rnul }tcejbO{ fedepyt@ * 
* 
.}xednI.rnul knil@{ a tsniaga mret taht hctam * 
ot woh no sliated dna mret a sniatnoc }yreuQ.rnul knil@{ a ni esualc elgnis A * 
**/

}
3 :DETIBIHORP  
/*   
.denruter eb ton lliw mret siht *   
niatnoc od taht stnemucod ,detibihorp si tnemucod a ni ecneserp s'mreT *   
**/  

,2 :DERIUQER  
/*   
.denruter eb ton lliw mret siht *   
niatnoc ton od taht stnemucod ,deriuqer si tnemucod a ni ecneserp s'mreT *   
**/  

,1 :LANOITPO  
/*   
.eulav tluafed eht si siht ,lanoitpo si tnemucod a ni ecneserp s'mreT *   
**/  
{ = ecneserp.yreuQ.rnul
/* 
)} DERIUQER.ecneserp.yreuQ.rnul :ecneserp { ,'oof'(mret.yreuq * 
>noitpac/<ecneserp deriuqer htiw mret yreuq>noitpac< elpmaxe@ * 
mret#yreuQ.rnul ees@ * 
esualc#yreuQ.rnul ees@ * 
esualC~yreuQ.rnul ees@ * 
}rebmun{ mune@ * 
tnatsnoc@ * 
* 
.stnemucod gnihctam ni evah tsum mret a ecneserp fo dnik tahw gnitacidni rof stnatsnoC * 
**/

2 = GNILIART.dracdliw.yreuQ.rnul
1 = GNIDAEL.dracdliw.yreuQ.rnul
0 = ENON.dracdliw.yreuQ.rnul
)"*"( gnirtS wen = dracdliw.yreuQ.rnul

/* 
)} * 
GNILIART.dracdliw.yreuQ.rnul | GNIDAEL.dracdliw.yreuQ.rnul :dracdliw   * 
{ ,'oof'(mret.yreuq * 
>noitpac/<dracdliw gniliart dna gnidael htiw mret yreuq>noitpac< elpmaxe@ * 
)} GNILIART.dracdliw.yreuQ.rnul :dracdliw { ,'oof'(mret.yreuq * 
>noitpac/<dracdliw gniliart htiw mret yreuq>noitpac< elpmaxe@ * 
mret#yreuQ.rnul ees@ * 
esualc#yreuQ.rnul ees@ * 
esualC~yreuQ.rnul ees@ * 
stsixe ydaerla dracdliw gniliart a sselnu ,mret eht ot dracdliw a dneppA - GNILIART.dracdliw }rebmun{ ytreporp@ * 
stsixe ydaerla dracdliw gnidael a sselnu ,dracdliw a htiw mret eht dneperP - GNIDAEL.dracdliw }rebmun{ ytreporp@ * 
ruoivaheb tluafed eht si siht ,detresni sdracdliw on evah lliw mret ehT - ENON.dracdliw }rebmun{ ytreporp@ * 
tluafed@ * 
tnatsnoc@ * 
* 
.sdracdliw gniliart dna gnidael htob tceles ot denibmoc esiwtib eb nac stnatsnoc dracdliw ehT * 
* 
.noitanetacnoc * 
gnirts yna od yllaunam ot gnivah tuohtiw mret a fo dne dna gninnigeb eht ot dedda eb ot sdracdliw swolla sihT * 
* 
.esualc yreuq a gnitcurtsnoc nehw desu eb lliw noitresni dracdliw citamotua fo dnik tahw gnitacidni rof stnatsnoC * 
**/

}
sdleiFlla = sdleiFlla.siht  
][ = sesualc.siht  
{ )sdleiFlla( noitcnuf = yreuQ.rnul
/* 
.xednI.rnul a ni sdleif elbaliava lla fo yarra nA - sdleiFlla }][gnirts{ ytreporp@ * 
.sesualc yreuq fo yarra nA - sesualc }][esualC~yreuQ.rnul{ ytreporp@ * 
rotcurtsnoc@ * 
* 
.sdleif xedni thgir eht htiw dezilaitini-erp si tcejbo yreuq eht os * 
dohtem }yreuq#xednI.rnul knil@{ eht gnisu yreuQ.rnul a gnitcurtsnoc referP * 
* 
.}xednI.rnul knil@{ a tsniaga * 
demrofrep eb ot seireuq gninifed fo yaw citammargorp a sedivorp yreuQ.rnul A * 
**/
}
}  
}    
]yek[atadatem = ]yek[]dleif[]mret[atadatem.siht      
{ esle }    
)]yek[atadatem(tacnoc.]yek[]dleif[]mret[atadatem.siht = ]yek[]dleif[]mret[atadatem.siht      
{ )]dleif[]mret[atadatem.siht ni yek( fi    

]i[syeKatadatem = yek rav    
{ )++i ;htgnel.syeKatadatem < i ;0 = i rav( rof  

)atadatem(syek.tcejbO = syeKatadatem rav  

}  
nruter    
atadatem = ]dleif[]mret[atadatem.siht    
{ ))]mret[atadatem.siht ni dleif(!( fi  

}  
nruter    
atadatem = ]dleif[]mret[atadatem.siht    
)llun(etaerc.tcejbO = ]mret[atadatem.siht    
{ ))atadatem.siht ni mret(!( fi  
{ )atadatem ,dleif ,mret( noitcnuf = dda.epytotorp.ataDhctaM.rnul
/* 
dleif siht ni mret siht tuoba dedrocer atadatem ehT - atadatem }tcejbo{ marap@ * 
dnuof saw mret eht hcihw ni dleif ehT - dleif }gnirts{ marap@ * 
htiw detaicossa si atad hctam siht mret ehT - mret }gnirts{ marap@ * 
* 
.atad hctam fo ecnatsni siht ot riap dleif/mret a rof atadatem ddA * 
**/

}
}  
}    
}      

}        
)]yek[]dleif[]mret[atadatem.ataDhctaMrehto(tacnoc.]yek[]dleif[]mret[atadatem.siht = ]yek[]dleif[]mret[atadatem.siht          
{ esle }        
]yek[]dleif[]mret[atadatem.ataDhctaMrehto = ]yek[]dleif[]mret[atadatem.siht          
{ )denifednu == ]yek[]dleif[]mret[atadatem.siht( fi        

]k[syek = yek rav        
{ )++k ;htgnel.syek < k ;0 = k rav( rof      

}      
)llun(etaerc.tcejbO = ]dleif[]mret[atadatem.siht        
{ )denifednu == ]dleif[]mret[atadatem.siht( fi      

)]dleif[]mret[atadatem.ataDhctaMrehto(syek.tcejbO = syek          
,]j[sdleif = dleif rav      
{ )++j ;htgnel.sdleif < j ;0 = j rav( rof    

}    
)llun(etaerc.tcejbO = ]mret[atadatem.siht      
{ )denifednu == ]mret[atadatem.siht( fi    

)]mret[atadatem.ataDhctaMrehto(syek.tcejbO = sdleif        
,]i[smret = mret rav    
{ )++i ;htgnel.smret < i ;0 = i rav( rof  

)atadatem.ataDhctaMrehto(syek.tcejbO = smret rav  
{ )ataDhctaMrehto( noitcnuf = enibmoc.epytotorp.ataDhctaM.rnul
/* 
}tluseR~xednI.rnul knil@{ ees@ * 
.eno siht htiw egrem ot atad hctam fo ecnatsni rehtonA - ataDhctaMrehto }ataDhctaM.rnul{ marap@ * 
* 
.atadatem stcejbo * 
siht htiw ataDhctaM.rnul fo ecnatsni rehtona morf atadatem senibmoc dohtem * 
sihT .tluseR~xednI.rnul a ni deriuqer si ecnatsni eno ylno revewoH .tnemucod * 
a sehctam taht mret yreve rof detaerc eb lliw ataDhctaM.rnul fo ecnatsni nA * 
**/

}
}  
atadateMdenolc = ]dleif[]mret[atadatem.siht    
)llun(etaerc.tcejbO = ]mret[atadatem.siht    
{ )denifednu ==! mret( fi  

)llun(etaerc.tcejbO = atadatem.siht  

}  
)(ecils.]yek[atadatem = ]yek[atadateMdenolc    
]i[syeKatadatem = yek rav    
{ )++i ;htgnel.syeKatadatem < i ;0 = i rav( rof  
ecils#yarrA //  
htiw enod eb nac atad eht gninolc os xedni //  
detrevni eht nihtiw yarra na ni tpek si atadateM //  
.noitanibmoc atad hctam gnirud detatum gnieb //  
lanigiro eht tneverp ot atadatem eht gninolC //  

)}{ || atadatem(syek.tcejbO = syeKatadatem      
,)llun(etaerc.tcejbO = atadateMdenolc rav  
{ )atadatem ,dleif ,mret( noitcnuf = ataDhctaM.rnul
/* 
}tluseR~xednI.rnul knil@{ ees@ * 
.tnemucod siht htiw detaicossa atadatem fo noitcelloc denolc A - atadatem }tcejbo{ ytreporp@ * 
dleif siht ni mret siht tuoba dedrocer atadatem ehT - atadatem }tcejbo{ marap@ * 
dnuof saw mret eht hcihw ni dleif ehT - dleif }gnirts{ marap@ * 
htiw detaicossa si atad hctam siht mret ehT - mret }gnirts{ marap@ * 
rotcurtsnoc@ * 
* 
.tluseR~xednI.rnul * 
yreve fo trap sa denruter si ataDhctaM.rnul fo ecnatsni elgnis A * 
.tnemucod gnihctam a tuoba atadatem stcelloc dna sniatnoC * 
**/
}
)sgra ,siht(ylppa.nf  
)siht(tfihsnu.sgra  
)1 ,stnemugra(llac.ecils.epytotorp.yarrA = sgra rav  
{ )nf( noitcnuf = esu.epytotorp.redliuB.rnul
/* 
.ylppa ot nigulp ehT nigulp }noitcnuF{ marap@ * 
* 
.txetnoc sti sa redliub xedni eht htiw * 
dellac eb lliw noitcnuf ehT .esu gnillac nehw dessap eb osla nac stnemugra * 
lanoitidda ,tnemugra sti sa redliub xedni eht htiw dellac eb lliw noitcnuf nigulp ehT * 
* 
.xedni eht gnidliub nehw deilppa eb dluohs taht ruoivaheb * 
motsuc eht detaluspacne taht ,noitcnuf a tsuj si nigulp A .yaw emos ni * 
xedni eht fo ruoivaheb eht dnetxe ro esimotsuc ot desu eb nac snigulP * 
.txetnoc sti sa redliub xedni eht htiw dellac si taht noitcnuf a si nigulp A * 
* 
.redliub xedni eht ot nigulp a seilppA * 
**/

}
)}  
enilepiPhcraes.siht :enilepip    
,)sdleif_.siht(syek.tcejbO :sdleif    
,teSnekot.siht :teSnekot    
,srotceVdleif.siht :srotceVdleif    
,xednIdetrevni.siht :xednIdetrevni    
{(xednI.rnul wen nruter  

)(teSnekoTetaerc.siht  
)(srotceVdleiFetaerc.siht  
)(shtgneLdleiFegarevAetaluclac.siht  
{ )( noitcnuf = dliub.epytotorp.redliuB.rnul
/* 
}xednI.rnul{ snruter@ * 
* 
.xedni eht ot dedda neeb evah stnemucod lla ecno * 
dellac eb ylno dluohs dna ssecorp gnixedni eht setelpmoc sihT * 
* 
.xednI.rnul fo ecnatsni na gnitaerc ,xedni eht sdliuB * 
**/

}
)  
)(tros.)xednIdetrevni.siht(syek.tcejbO    
(yarrAmorf.teSnekoT.rnul = teSnekot.siht  
{ )( noitcnuf = teSnekoTetaerc.epytotorp.redliuB.rnul
/* 
etavirp@ * 
* 
teSnekoT.rnul gnisu xedni eht ni snekot lla fo tes nekot a setaerC * 
**/

}
srotceVdleif = srotceVdleif.siht  

}  
rotceVdleif = ]feRdleif[srotceVdleif    

}    
)noisicerPhtiWerocs ,xednImret(tresni.rotceVdleif      

.tpircSavaJ //      
ni noisicerp s'rebmun a gnicuder ot hcaorppa tsetsaf eht //      
si siht ,oslA .noitasilaires retfa dna erofeb emas eht //      
evaheb yeht taht os won ti gnioD .desilaires nehw ecaps //      
ssel pu ekat srotcev eht taht os noisicerp eht gnicudeR //      
.432.1 ot 98765432.1 strevnoC //      
0001 / )0001 * erocs(dnuor.htaM = noisicerPhtiWerocs      
tsooBcod =* erocs      
tsooBdleif =* erocs      
)ft + ))]emaNdleif[htgneLdleiFegareva.siht / htgneLdleif( * b_.siht + b_.siht - 1( * 1k_.siht( / )ft * )1 + 1k_.siht(( * fdi = erocs      

}      
]mret[ehcaCfdImret = fdi        
{ esle }      
fdi = ]mret[ehcaCfdImret        
)tnuoCtnemucod.siht ,]mret[xednIdetrevni.siht(fdi.rnul = fdi        
{ )denifednu === ]mret[ehcaCfdImret( fi      

noisicerPhtiWerocs ,erocs ,fdi          
,xedni_.]mret[xednIdetrevni.siht = xednImret          
,]mret[seicneuqerFmret = ft          
,]j[smret = mret rav      
{ )++j ;htgneLsmret < j ;0 = j rav( rof    

1 || tsoob.]feRcod.feRdleif[stnemucod_.siht = tsooBcod        
,1 || tsoob.]emaNdleif[sdleif_.siht = tsooBdleif rav    


htgnel.smret = htgneLsmret        
,)seicneuqerFmret(syek.tcejbO = smret        
,]feRdleif[seicneuqerFmreTdleif.siht = seicneuqerFmret        
,rotceV.rnul wen = rotceVdleif        
,]feRdleif[shtgneLdleif.siht = htgneLdleif        
,emaNdleif.feRdleif = emaNdleif        
,)]i[sfeRdleif(gnirtSmorf.feRdleiF.rnul = feRdleif rav    
{ )++i ;htgneLsfeRdleif < i ;0 = i rav( rof  

)llun(etaerc.tcejbO = ehcaCfdImret      
,htgnel.sfeRdleif = htgneLsfeRdleif      
,)seicneuqerFmreTdleif.siht(syek.tcejbO = sfeRdleif      
,}{ = srotceVdleif rav  
{ )( noitcnuf = srotceVdleiFetaerc.epytotorp.redliuB.rnul
/* 
etavirp@ * 
* 
rotceV.rnul gnisu tnemucod yreve fo ledom ecaps rotcev a sdliuB * 
**/

}
rotalumucca = htgneLdleiFegareva.siht  

}  
]emaNdleif[dleiFhtiWstnemucod / ]emaNdleif[rotalumucca = ]emaNdleif[rotalumucca    
]i[sdleif = emaNdleif rav    
{ )++i ;htgnel.sdleif < i ;0 = i rav( rof  

)sdleif_.siht(syek.tcejbO = sdleif rav  

}  
]feRdleif[shtgneLdleif.siht =+ ]dleif[rotalumucca    
)0 = ]dleif[rotalumucca( || ]dleif[rotalumucca    

1 =+ ]dleif[dleiFhtiWstnemucod    
)0 = ]dleif[dleiFhtiWstnemucod( || ]dleif[dleiFhtiWstnemucod    

emaNdleif.feRdleif = dleif        
,)]i[sfeRdleif(gnirtSmorf.feRdleiF.rnul = feRdleif rav    
{ )++i ;sdleiFfOrebmun < i ;0 = i rav( rof  

}{ = dleiFhtiWstnemucod      
,}{ = rotalumucca      
,htgnel.sfeRdleif = sdleiFfOrebmun      
,)shtgneLdleif.siht(syek.tcejbO = sfeRdleif rav  

{ )( noitcnuf = shtgneLdleiFegarevAetaluclac.epytotorp.redliuB.rnul
/* 
etavirp@ * 
* 
xedni siht rof htgnel tnemucod egareva eht setaluclaC * 
**/

}
}  

}    
}      
)atadatem(hsup.]yeKatadatem[]feRcod[]emaNdleif[]mret[xednIdetrevni.siht        

}        
][ = ]yeKatadatem[]feRcod[]emaNdleif[]mret[xednIdetrevni.siht          
{ )denifednu == ]yeKatadatem[]feRcod[]emaNdleif[]mret[xednIdetrevni.siht( fi        

]yeKatadatem[atadatem.mret = atadatem            
,]l[tsiletihWatadatem.siht = yeKatadatem rav        
{ )++l ;htgnel.tsiletihWatadatem.siht < l ;0 = l rav( rof      
xedni detrevni //      
eht ni nekot siht tuoba atadatem detsiletihw lla erots //      

}      
)llun(etaerc.tcejbO = ]feRcod[]emaNdleif[]mret[xednIdetrevni.siht        
{ )denifednu == ]feRcod[]emaNdleif[]mret[xednIdetrevni.siht( fi      
xednIdetrevni eht ot feRcod/emaNdleif/mret siht rof yrtne na dda //      

}      
gnitsop = ]mret[xednIdetrevni.siht        

}        
)llun(etaerc.tcejbO = ]]k[sdleif[gnitsop          
{ )++k ;htgnel.sdleif < k ;0 = k rav( rof        

1 =+ xednImret.siht        
xednImret.siht = ]"xedni_"[gnitsop        
)llun(etaerc.tcejbO = gnitsop rav        
{ )denifednu == ]mret[xednIdetrevni.siht( fi      
tsixe t'nseod eno fi gnitsop laitini na etaerc //      
xedni detrevni ot dda //      

1 =+ ]mret[smreTdleif      

}      
0 = ]mret[smreTdleif        
{ )denifednu == ]mret[smreTdleif( fi      

]j[smret = mret rav      
{ )++j ;htgnel.smret < j ;0 = j rav( rof    
dleif siht rof seicneuqerf mret etaluclac //    

htgnel.smret =+ ]feRdleif[shtgneLdleif.siht    
tnemucod siht rof dleif siht fo htgnel eht erots //    

0 = ]feRdleif[shtgneLdleif.siht    
smreTdleif = ]feRdleif[seicneuqerFmreTdleif.siht    

)llun(etaerc.tcejbO = smreTdleif        
,)emaNdleif ,feRcod( feRdleiF.rnul wen = feRdleif        
,)snekot(nur.enilepip.siht = smret        
,)}        
]emaNdleif[ :sdleif          
{ ,dleif(rezinekot.siht = snekot        
,]emaNdleif[cod : )cod(rotcartxe ? rotcartxe = dleif        
,rotcartxe.]emaNdleif[sdleif_.siht = rotcartxe        
,]i[sdleif = emaNdleif rav    
{ )++i ;htgnel.sdleif < i ;0 = i rav( rof  

1 =+ tnuoCtnemucod.siht  
}{ || setubirtta = ]feRcod[stnemucod_.siht  

)sdleif_.siht(syek.tcejbO = sdleif      
,]fer_.siht[cod = feRcod rav  
{ )setubirtta ,cod( noitcnuf = dda.epytotorp.redliuB.rnul
/* 
.tnemucod siht nihtiw smret lla ot deilppa tsooB - ]1=tsoob.setubirtta[ }rebmun{ marap@ * 
.tnemucod siht htiw detaicossa setubirtta lanoitpO - setubirtta }tcejbo{ marap@ * 
.xedni eht ot dda ot tnemucod ehT - cod }tcejbo{ marap@ * 
* 
.stnemucod rehto naht stluser hcraes ni rehgih knar dluohs tnemucod siht * 
taht setacidni tnemucod a ot tsoob a gniylppA .emit dliub ta detsoob eb nac stnemucod eritnE * 
* 
.srorre esuac * 
ton lliw seulav denifednu ro llun hguoht ,gnixedni rof denifed sdleif lla evah dluohs ti * 
dna )'di' si siht tluafed yb( fer eht yb deificeps sa eman dleif a evah tsum tnemucod ehT * 
* 
.deificeps neeb gnivah ydaerla xedni ot sdleif lla dna fer * 
tnemucod eht htiw ,putes ylluf neeb evah dluohs xedni eht xedni eht ot sdleif gnidda erofeB * 
* 
.xedni eht ot tnemucod a sddA * 
**/

}
rebmun = 1k_.siht  
{ )rebmun( noitcnuf = 1k.epytotorp.redliuB.rnul
/* 
.retemarap gninut siht rof tes ot eulav ehT - rebmun }rebmun{ marap@ * 
* 
.noitarutas rekciuq ni tluser lliw eulav rewol a ,slevel noitarutas rewols * 
evig lliw eulav rehgih a ot siht gnitteS .2.1 si eulav tluafed ehT .noitarutas ycneuqerf * 
mret ni stluser ycneuqerf mret ni esir a hcihw ta deeps eht slortnoc taht retemarap A * 
**/

}
}  
rebmun = b_.siht    
{ esle }  
1 = b_.siht    
{ )1 > rebmun( fi esle }  
0 = b_.siht    
{ )0 < rebmun( fi  
{ )rebmun( noitcnuf = b.epytotorp.redliuB.rnul
/* 
.retemarap gninut siht rof tes ot eulav ehT - rebmun }rebmun{ marap@ * 
* 
.1 - 0 egnar eht ot depmalc eb lliw * 
b fo seulaV .57.0 si tluafed ehT .shtgnel dleif esilamron ylluf lliw 1 fo eulav a dna * 
noitasilamron yna elbasid yletelpmoc lliw 0 fo eulav A .serocs ecnaveler gnitaluclac * 
nehw deilppa si taht noitasilamron htgnel dleif fo tnuoma eht enut ot retemarap A * 
**/

}
}{ || setubirtta = ]emaNdleif[sdleif_.siht  

}  
)"'/' retcarahc lagelli sniatnoc '" + emaNdleif + "' dleiF"( rorrEegnaR wen worht    
{ ))emaNdleif(tset.//\/( fi  
{ )setubirtta ,emaNdleif( noitcnuf = dleif.epytotorp.redliuB.rnul
/* 
'/' sretcarahc detroppusnu niatnoc tonnac emaNdleif }rorrEegnaR{ sworht@ * 
.tnemucod a morf dleif a tcartxe ot noitcnuF - ]rotcartxe.setubirtta[ }rotcartxEdleif{ marap@ * 
.dleif siht nihtiw smret lla ot deilppa tsooB - ]1=tsoob.setubirtta[ }rebmun{ marap@ * 
.dleif siht htiw detaicossa setubirtta lanoitpO - setubirtta }tcejbo{ marap@ * 
.stnemucod lla ni xedni ot dleif a fo eman ehT - emaNdleif }gnirts{ marap@ * 
* 
.sdleif rehto naht tnatropmi erom era dleif eno * 
nihtiw sehctam taht yficeps ot tsoob dleif a esU .stluser hcraes gniknar nehw ecnatropmi * 
erom evah ot dleif taht nihtiw smret swolla sihT .emit dliub ta detsoob eb nac sdleiF * 
* 
.stnemucod dexedni ydaerla no tceffe on evah lliw dexedni neeb sah tnemucod a * 
retfa sdleif gniddA .xedni eht ot stnemucod gnidda erofeb dedda eb dluohs sdleif llA * 
* 
.sehcraes yb deveirter gnieb tnemucod taht fo ecnahc eht timil lliw tub srorre esuac ton * 
lliw stnemucod dexedni ni dleif siht rof seulav lluN .dleif siht evah dluohs dexedni * 
gnieb tnemucod yrevE .dexedni eb lliw taht sdleif tnemucod fo tsil eht ot dleif a sddA * 
**/

/* 
} dleif.detsen.cod nruter { )cod( noitcnuf * 
>noitpac/<dleif detsen a gnitcartxE>noitpac< elpmaxe@ * 
.dleif siht rof dexedni eb lliw taht tcejbo ehT - jbo })][tcejbo|tcejbo|gnirts(?{ snruter@ * 
.xedni eht ot dedda gnieb tnemucod ehT - cod }tcejbo{ marap@ * 
rotcartxEdleif kcabllac@ * 
* 
.gnixedni rof dleif thgir eht * 
tcartxe ot desu eb nac noitcnuf rotcartxe na tnemucod a nihtiw detsen ylpeed si * 
dleif eht revewoh fi ,tnemucod a fo level pot eht ta eb ot dleif a stcepxe rnuL * 
* 
.tnemucod a morf dleif a tcartxe ot desu si taht noitcnuf A * 
**/

}
fer = fer_.siht  
{ )fer( noitcnuf = fer.epytotorp.redliuB.rnul
/* 
.tnemucod eht ni dleif ecnerefer eht fo eman ehT - fer }gnirts{ marap@ * 
* 
.stluser tnetsisnocni ot dael nac gnixedni gnirud ti gnignahC .xedni eht ot dedda * 
era stnemucod yna erofeb tes eb dluohs ti ,gnixedni gnirud degnahc eb _ton_ dluohs fer ehT * 
* 
.'di' si fer tluafed ehT * 
* 
.gnirtSot gnillac yb gnirts a otni decreoc * 
eb lliw ti gnirts a ton si ti fi ,gnirts a eb dluohs tnemucod eht ni dleif siht fo epyt ehT * 
.dleif siht evah tsum tnemucod yrevE .ecnerefer tnemucod eht sa desu dleif tnemucod eht steS * 
**/

}
][ = tsiletihWatadatem.siht  
0 = xednImret.siht  
2.1 = 1k_.siht  
57.0 = b_.siht  
0 = tnuoCtnemucod.siht  
enilepiP.rnul wen = enilepiPhcraes.siht  
enilepiP.rnul wen = enilepip.siht  
rezinekot.rnul = rezinekot.siht  
}{ = shtgneLdleif.siht  
}{ = seicneuqerFmreTdleif.siht  
)llun(etaerc.tcejbO = xednIdetrevni.siht  
)llun(etaerc.tcejbO = stnemucod_.siht  
)llun(etaerc.tcejbO = sdleif_.siht  
"di" = fer_.siht  
{ )( noitcnuf = redliuB.rnul
/* 
.xedni eht ni yrtne rof detsiletihw neeb evah taht syek atadatem fo tsil A - tsiletihWatadatem }yarra{ ytreporp@ * 
.ecaps rotcev eht ni noitisop smret a yfitnedi ot desu ,mret euqinu hcae rof detnemercni retnuoc A - xednImret }rebmun{ ytreporp@ * 
.2.1 si eulav tluafed eht ,noitarutas ycneuqerf mret ni stluser ycneuqerf mret ni esaercni na ylkciuq woh lortnoc ot retemarap A - 1k_ }rebmun{ ytreporp@ * 
.57.0 si eulav tluafed eht ,shtgnel dleif sezilamron ylluf 1 ,noitazilamron delbasid 0 ot siht gnittes ,noitazilamron htgnel dleif lortnoc ot retemarap A - b_ }rebmun{ ytreporp@ * 
.dexedni stnemucod fo rebmun latot eht fo kcart speeK - tnuoCtnemucod }rebmun{ ytreporp@ * 
.xedni eht gniyreuq erofeb smret hcraes gnissecorp rof enilepip A - enilepiPhcraes }enilepiP.rnul{ ytreporp@ * 
.gnixedni erofeb snekot no gnissecorp txet smrofrep enilepip ehT - enilepip }enilepiP.rnul{ ytreporp@ * 
.gnixedni rof snekot otni sgnirts gnittilps rof noitcnuF - rezinekot }rezinekot.rnul{ ytreporp@ * 
.xedni eht ot dedda stnemucod fo htgnel eht fo kcart speeK - shtgneLtnemucod }tcejbo{ ytreporp@ * 
.seicneuqerf mret tnemucod fo kcart speeK - seicneuqerFmreTtnemucod }tcejbo{ ytreporp@ * 
.sdleif tnemucod ot smret spam xedni detrevni ehT - xednIdetrevni }tcejbo{ ytreporp@ * 
.xedni ot sdleif tnemucod eht ot ecnerefer lanretnI - sdleif_ }][gnirts{ ytreporp@ * 
.dleif ecnerefer tnemucod eht ot ecnerefer lanretnI - fer_ }gnirts{ ytreporp@ * 
rotcurtsnoc@ * 
* 
.gnixedni erofeb redliub * 
eht no tes lla era sretemarap gnirocs tnemucod dna enilepip * 
gnissecorp txet eht ,ecnerefer tnemucod eht ,xedni ot sdleif * 
eht ,redliub eht aiv enod si xedni eht fo noitarugifnoc llA * 
* 
.gniyreuq rof ydaer xednI.rnul fo secnatsni snruter * 
dna stnemucod fo tes a no gnixedni smrofrep redliuB.rnul * 
**/

/* 
elagnithgiN revilO 0202 )C( thgirypoC * 
redliuB.rnul * 
!*/
}
)srtta(xednI.rnul wen nruter  

enilepip = enilepip.srtta  
toor.redliuBteSnekot = teSnekot.srtta  
xednIdetrevni = xednIdetrevni.srtta  
srotceVdleif = srotceVdleif.srtta  

sdleif.xednIdezilaires = sdleif.srtta  

)(hsinif.redliuBteSnekot  

}  
gnitsop = ]mret[xednIdetrevni    
)mret(tresni.redliuBteSnekot    

]1[elput = gnitsop        
,]0[elput = mret        
,]i[xednIdetrevnIdezilaires = elput rav    
{ )++i ;htgnel.xednIdetrevnIdezilaires < i ;0 = i rav( rof  

}  
)stnemele(rotceV.rnul wen = ]fer[srotceVdleif    

]1[elput = stnemele        
,]0[elput = fer        
,]i[srotceVdezilaires = elput rav    
{ )++i ;htgnel.srotceVdezilaires < i ;0 = i rav( rof  

}  
)"'" + noisrev.xednIdezilaires + "' xedni dezilaires hctam ton seod '" + noisrev.rnul + "' rnul fo noisrev tnerruC .xedni desilaires gnidaol nehw hctamsim noisreV"(nraw.slitu.rnul    
{ )noisrev.rnul =! noisrev.xednIdezilaires( fi  

)enilepip.xednIdezilaires(daol.enilepiP.rnul = enilepip      
,redliuB.teSnekoT.rnul wen = redliuBteSnekot      
,xednIdetrevni.xednIdezilaires = xednIdetrevnIdezilaires      
,)llun(etaerc.tcejbO = xednIdetrevni      
,srotceVdleif.xednIdezilaires = srotceVdezilaires      
,}{ = srotceVdleif      
,}{ = srtta rav  
{ )xednIdezilaires( noitcnuf = daol.xednI.rnul
/* 
}xednI.rnul{ snruter@ * 
xednI.rnul dezilaires ylsuoiverp A - xednIdezilaires }tcejbO{ marap@ * 
* 
xednI.rnul dezilaires ylsuoiverp a sdaoL * 
**/

}
}  
)(NOSJot.enilepip.siht :enilepip    
,xednIdetrevni :xednIdetrevni    
,srotceVdleif :srotceVdleif    
,sdleif.siht :sdleif    
,noisrev.rnul :noisrev    
{ nruter  

)siht ,}    
])(NOSJot.]fer[srotceVdleif.siht ,fer[ nruter      
{ )fer( noitcnuf(pam.    
)srotceVdleif.siht(syek.tcejbO = srotceVdleif rav  

)siht ,}    
]]mret[xednIdetrevni.siht ,mret[ nruter      
{ )mret( noitcnuf(pam.    
)(tros.    
)xednIdetrevni.siht(syek.tcejbO = xednIdetrevni rav  
{ )( noitcnuf = NOSJot.epytotorp.xednI.rnul
/* 
}tcejbO{ snruter@ * 
* 
.elif amehcs NOSJ etarapes * 
a ni debircsed eb lliw bolb NOSJ siht rof amehcs ehT * 
* 
.noitazilaires NOSJ rof xedni eht seraperP * 
**/

}
)}  
erocs.a - erocs.b nruter    
{ )b ,a( noitcnuf(tros.stluser nruter  
/*   
.tsrif tsehgih ,erocs yb stcejbo stluser eht troS *   
*/  

}  
}    
)hctam(hsup.stluser      
hctam = ]feRcod[sehctam      
}      
]feRdleif[sdleiFgnihctam :ataDhctam        
,erocs :erocs        
,feRcod :fer        
{ = hctam rav      
{ esle }    
)]feRdleif[sdleiFgnihctam(enibmoc.ataDhctam.hctaMcod      
erocs =+ erocs.hctaMcod      
{ )denifednu ==! )]feRcod[sehctam = hctaMcod(( fi    

hctaMcod        
,)rotceVdleif(ytiralimis.]emaNdleif.feRdleif[srotceVyreuq = erocs        
,]feRdleif[srotceVdleif.siht = rotceVdleif rav    

}    
eunitnoc      
{ ))feRcod(sniatnoc.sehctaMdetibihorPlla( fi    

}    
eunitnoc      
{ ))feRcod(sniatnoc.sehctaMderiuqeRlla!( fi    

feRcod.feRdleif = feRcod        
,)]i[sfeRdleiFgnihctam(gnirtSmorf.feRdleiF.rnul = feRdleif rav    
/*     
.noitidda gnisu erocs tnemucod lanif a otni denibmoc dna ,evoba *     
detaerc srotcev yreuq eht gnisu ,dleif yb detaluclac era serocS *     
*     
.tnemucod emas eht ot gnignoleb sdleif elpitlum morf *     
denibmoc era serocs dna ataDhctam ehT .stnemucod nruter ot deen *     
ew tub ,yreuq eht hctam taht sdleif tnemucod evah ew yltnerruC *     
*/    
{ )++i ;htgnel.sfeRdleiFgnihctam < i ;0 = i rav( rof  

}  
}    
ataDhctaM.rnul wen = ]feRdleiFgnihctam[sdleiFgnihctam      
)feRdleiFgnihctam(gnirtSmorf.feRdleiF.rnul = feRdleif rav      
]i[sfeRdleiFgnihctam = feRdleiFgnihctam rav      
{ )++i ;htgnel.sfeRdleiFgnihctam < i ;0 = i rav( rof    

)srotceVdleif.siht(syek.tcejbO = sfeRdleiFgnihctam    
{ ))(detageNsi.yreuq( fi  
/*   
.stluser eht etalupop *   
yltcerroc ot detaerc eb tsum ataDhctaM knalb ,yllanoitiddA *   
*   
.ylirassecennu sfeRdleif *   
lla gnitteg fo tsoc yna diova ot smret detibihorp yleritne *   
si yreuq eht taht wonk ew nehw enod ylno si sihT .xedni *   
eht ni gnitsixe yltnerruc sfeRdleif _lla_ teg ot deen ew *   
)smret detibihorp ylno sniatnoc( detagen si yreuq eht fI *   
*/  

)llun(etaerc.tcejbO = sehctam      
,][ = stluser      
,)sdleiFgnihctam(syek.tcejbO = sfeRdleiFgnihctam rav  

}  
}    
)]dleif[sehctaMdetibihorp(noinu.sehctaMdetibihorPlla = sehctaMdetibihorPlla      
{ )]dleif[sehctaMdetibihorp( fi    

}    
)]dleif[sehctaMderiuqer(tcesretni.sehctaMderiuqeRlla = sehctaMderiuqeRlla      
{ )]dleif[sehctaMderiuqer( fi    

]i[sdleif.siht = dleif rav    
{ )++i ;htgnel.sdleif.siht < i ;0 = i rav( rof  

ytpme.teS.rnul = sehctaMdetibihorPlla      
,etelpmoc.teS.rnul = sehctaMderiuqeRlla rav  
/*   
sehctam *   
detibihorp dna deriuqer fo tes labolg a otni stnemucod gnihctam *   
detibihorp dna deriuqer depocs dleif eht enibmoc ot deeN *   
**/  

}  
}    
}      
)sehctaMesualc(tcesretni.]dleif[sehctaMderiuqer = ]dleif[sehctaMderiuqer        
]k[sdleif.esualc = dleif rav        
{ )++k ;htgnel.sdleif.esualc < k ;0 = k rav( rof      
{ )DERIUQER.ecneserp.yreuQ.rnul === ecneserp.esualc( fi    
/*     
.sdleif *     
eht fo _lla_ ton sdleif eht fo _yna_ ni deriuqer si ecneserp smret esualc eht *     
esuaceb sehctam rieht detcelloc evah mret eht rof sdleif lla retfa siht od eW *     
.stes dleif sehctaMderiuqer eht etadpu ot deen ew deriuqer saw ecneserp eht fI *     
**/    

}    
}      
}        
eurt = ]dleiFmret[ehcaCdleiFmret          

}          

}            
)atadatem ,dleif ,mreTdednapxe(dda.hctaMdleif              
{ esle }            
)atadatem ,dleif ,mreTdednapxe( ataDhctaM.rnul wen = ]feRdleiFgnihctam[sdleiFgnihctam              
{ )denifednu === )]feRdleiFgnihctam[sdleiFgnihctam = hctaMdleif(( fi            

hctaMdleif                
,]feRtnemucoDgnihctam[gnitsoPdleif = atadatem                
,)dleif ,feRtnemucoDgnihctam( feRdleiF.rnul wen = feRdleiFgnihctam                
,]l[sfeRtnemucoDgnihctam = feRtnemucoDgnihctam rav            
/*             
stluser *             
yreuq eht ni denruter eb ot ydaer ataDhctaM.rnul fo *             
ecnatsni na otni detcelloc dna detcartxe neht era *             
elpirt tnemucod/dleif/mret siht rof atadatem llA *             
*/            
{ )++l ;htgnel.sfeRtnemucoDgnihctam < l ;0 = l rav( rof          

}          
eunitnoc            
{ )]dleiFmret[ehcaCdleiFmret( fi          
/*           
niaga taht lla hguorht og ot deen on ,atadatem dna stnemucod gnihctam eht *           
detcelloc ydaerla ev'ew neht obmoc dleif ,mret siht nees ydaerla ev'ew fI *           
**/          

)} b + a nruter { )b ,a( noitcnuf ,tsoob.esualc ,xednImret(trespu.]dleif[srotceVyreuq          
/*           
.rehtegot *           
serocs eht dda tsuj ew esac taht nI .htiw gnikrow era ew mret eht rof *           
rotcev eht ni yrtne na eb ydaerla dluoc ereht esuaceb trespu gnisU *           
.deilppa tsoob etairporppa eht htiw eulav tinu a dna mret eht *           
rof dnuof xednImret eht gnisu detalupop si rotcev dleif yreuq ehT *           
*/          

}          
eunitnoc            
/*             
dleif txen eht ot *             
eunitnoc ew os detcartxe eb dluohs atadatem on dna gnirocs ytiralimis *             
rof desu rotcev yreuq eht fo trap eb ton dluohs sehctam detibihorP *             
*/            

)teSstnemucoDgnihctam(noinu.]dleif[sehctaMdetibihorp = ]dleif[sehctaMdetibihorp            

}            
ytpme.teS.rnul = ]dleif[sehctaMdetibihorp              
{ )denifednu === ]dleif[sehctaMdetibihorp( fi            
{ )DETIBIHORP.ecneserp.yreuQ.rnul == ecneserp.esualc( fi          
/*           
.tsixe tey ton seod ti fi tes taht gnitaerc *           
,dleif siht rof sehctam detibihorp fo tes eht ot dedda era stnemucod *           
gnihctam eht taht erusne detibihorp si mret siht fo ecneserp eht fi *           
*/          

}          
}            
etelpmoc.teS.rnul = ]dleif[sehctaMderiuqer              
{ )denifednu === ]dleif[sehctaMderiuqer( fi            

)teSstnemucoDgnihctam(noinu.sehctaMesualc = sehctaMesualc            
{ )DERIUQER.ecneserp.yreuQ.rnul == ecneserp.esualc( fi          
/*           
*           
.esualc siht rof sehctam deriuqer fo tes eht ot dedda era stnemucod *           
gnihctam eht taht erusne deriuqer si mret siht fo ecneserp eht fi *           
*/          

)sfeRtnemucoDgnihctam(teS.rnul wen = teSstnemucoDgnihctam              
,dleif + "/" + mreTdednapxe = dleiFmret              
,)gnitsoPdleif(syek.tcejbO = sfeRtnemucoDgnihctam              
,]dleif[gnitsop = gnitsoPdleif              
,]k[sdleif.esualc = dleif rav          
/*           
.evoba morf mret *           
gnihctam eht rof xednIdetrevni eht ni yrtne eht si gnitsop ehT *           
*           
.dleif taht ni mret siht evah taht *           
sfer tnemucod eht lla teg ot deen ew )epocs ni era sdleif lla *           
tluafed yb( yb depocs si mret yreuq siht taht dleif hcae roF *           
*/          
{ )++k ;htgnel.sdleif.esualc < k ;0 = k rav( rof        

xedni_.gnitsop = xednImret            
,]mreTdednapxe[xednIdetrevni.siht = gnitsop            
,]j[smreTdednapxe = mreTdednapxe rav        
/*         
.rotcev yreuq eht gnidliub *         
rof deriuqer si siht ,xednImret dna gnitsop eht teg mret hcae roF *         
*/        
{ )++j ;htgnel.smreTdednapxe < j ;0 = j rav( rof      

}      
kaerb        

}        
ytpme.teS.rnul = ]dleif[sehctaMderiuqer          
]k[sdleif.esualc = dleif rav          
{ )++k ;htgnel.sdleif.esualc < k ;0 = k rav( rof        
{ )DERIUQER.ecneserp.yreuQ.rnul === ecneserp.esualc && 0 === htgnel.smreTdednapxe( fi      
/*       
.sesualc *       
rehtruf yna gninimaxe pots dna ytpme ot tes sehctam deriuqer depocs *       
dleif eht lla tes eW .sehctam yna nruter ot hcraes eht rof elbissopmi *       
si ti teSnekot eht ni tsixe ton seod deriuqer sa dekram mret a fI *       
*/      

)(yarrAot.)teSnekoTmret(tcesretni.teSnekot.siht = smreTdednapxe          
,)esualc(esualCmorf.teSnekoT.rnul = teSnekoTmret rav      
/*       
xedni detrevni eht ni pukool ot *       
smret fo tsil a teg ot tes nekot sexedni eht tcesretni ot desu eb *       
neht lliw hcihw tes nekot a etaerc ew esualc eht ni mret eht morF *       
*/      

mret = mret.esualc      
/*       
.ytreporp mret sti *       
etatum tub tcejbo esualc eht esu-er ot si siht od ot yaw tselpmis *       
ehT .ecnatsid tide ro dna tsoob emas eht .g.e ,tcejbo esualc *       
yreuq emas eht esu ot sdeen enilepip eht morf denruter mret hcaE *       
*/      

]m[smret = mret rav      
{ )++m ;htgnel.smret < m ;0 = m rav( rof    

}    
]mret.esualc[ = smret      
{ esle }    
)}      
sdleif.esualc :sdleif        
{ ,mret.esualc(gnirtSnur.enilepip.siht = smret      
{ )enilepiPesu.esualc( fi    

ytpme.teS.rnul = sehctaMesualc        
,llun = smret        
,]i[sesualc.yreuq = esualc rav    
/*     
.mret yreuq elgnis a rof *     
spukool xedni elpitlum gnimrofrep pu dne yam ew snaem hcihw ,mret *     
dessap eht dnapxe yam snoitcnuf enilepiP .smret dessecorp fo *     
yarra na snruter enilepip A .enilepip hcraes eht hguorht mret *     
esualc eht ssap ot deen ew ,sdracdliw htiw smret rof esac eht *     
si hcihw ,mret siht rof delbasid neeb sah enilepip eht sselnU *     
*/    
{ )++i ;htgnel.sesualc.yreuq < i ;0 = i rav( rof  

)yreuq ,yreuq(llac.nf  

}  
rotceV.rnul wen = ]]i[sdleif.siht[srotceVyreuq    
{ )++i ;htgnel.sdleif.siht < i ;0 = i rav( rof  
/*   
.seireuq *   
detagen troppus ot detaerc ylregae si rotcev ytpme nA .dleif *   
rep detaerc si rotcev yreuq a stsoob level dleif troppus oT *   
*/  

)llun(etaerc.tcejbO = sehctaMdetibihorp      
,)llun(etaerc.tcejbO = sehctaMderiuqer      
,)llun(etaerc.tcejbO = ehcaCdleiFmret      
,)llun(etaerc.tcejbO = srotceVyreuq      
,)llun(etaerc.tcejbO = sdleiFgnihctam      
,)sdleif.siht(yreuQ.rnul wen = yreuq rav  

stnemucod erocs * //  
srotcev tnemucod teg * //  
atadatem dna stnemucod gnihctam dnif * //  
tes nekot morf smret dnapxe * //  
smret ssecorp * //  
esualc yreuq hcae rof //  
{ )nf( noitcnuf = yreuq.epytotorp.xednI.rnul
/* 
}][tluseR~xednI.rnul{ snruter@ * 
.yreuq eht dliub ot desu si taht noitcnuf A - nf }redliuByreuq~xednI.rnul{ marap@ * 
* 
.dezimotsuc * 
eb ot tcejbo yreuq a dedleiy tsuj si kcabllac eht ,noitarepo suonorhcnysa * 
na _ton_ si ti retemarap kcabllac a sekat noitcnuf siht hguohtla taht etoN * 
* 
.xedni eht tsniaga nur eb ot yreuq eht sserpxe * 
ot desu eb dluohs hcihw noitcnuf deilppus eht ot dedleiy si tcejbo yreuq A * 
* 
.daehrevo gnisrap yreuq lanoitidda eht diova ot sa os hcraes#xednI.rnul revo * 
derreferp si dohtem siht ,xedni eht tsniaga seireuq citammargorp gnimrofrep fI * 
* 
.tcejbo yreuQ.rnul dedleiy eht gnisu xedni eht tsniaga yreuq a smrofreP * 
**/

/* 
yreuQ.rnul siht@ * 
.pu dliub ot tcejbo yreuq ehT - yreuq }yreuQ.rnul{ marap@ * 
redliuByreuq~xednI.rnul kcabllac@ * 
* 
.xedni eht no mrofrep ot yreuq eht * 
sserpxe ot desu eb ot tcejbo yreuq a sedivorp kcabllac redliub yreuq A * 
**/

}
)}  
)(esrap.resrap    
)yreuq ,gnirtSyreuq(resraPyreuQ.rnul wen = resrap rav    
{ )yreuq( noitcnuf(yreuq.siht nruter  
{ )gnirtSyreuq( noitcnuf = hcraes.epytotorp.xednI.rnul
/* 
}][tluseR~xednI.rnul{ snruter@ * 
.desrap eb tonnac gnirts yreuq dessap eht fI }rorrEesraPyreuQ.rnul{ sworht@ * 
.yreuq rnul a gniniatnoc gnirts A - gnirtSyreuq }gnirtSyreuQ~xednI.rnul{ marap@ * 
* 
.yreuq#xednI.rnul esu gniyreuq citammargorp erom roF * 
* 
.}ediug|gnirocs#lmth.gnihcraes/sediug/moc.sjrnul//:sptth knil@{ eht * 
ees esaelp ,detaluclac si erocs eht woh no sliated roF  .tsrif denruter eb lliw * 
stluser tnaveler tsom eht ,erocs rieht yb detros denruter eb lliw stluseR * 
* 
.xatnys yreuq rnul gnisu xedni eht tsniaga hcraes a smrofreP * 
**/

/* 
zab rab+ oof- * 
>noitpac/<sreifidom ecneserp htiw smret>noitpac< elpmaxe@ * 
2~olleh * 
>noitpac/<2 fo ecnatsid tide na htiw mret>noitpac< elpmaxe@ * 
01^olleh * 
>noitpac/<01 fo tsoob a htiw mret>noitpac< elpmaxe@ * 
olleh:eltit * 
>noitpac/<dleif a ot depocs mret>noitpac< elpmaxe@ * 
dlrow olleh * 
>noitpac/<yreuq mret elpitluM>noitpac< elpmaxe@ * 
olleh * 
>noitpac/<yreuq mret elgnis elpmiS>noitpac< elpmaxe@ * 
gnirtSyreuQ~xednI.rnul }gnirts{ fedepyt@ * 
* 
."oof" mret hcraes eht ot 2 fo tsoob a ylppa ot gnitpmetta fo * 
daetsni "2~oof" mret a rof hcraes lliw `2~\oof` .g.e ,sreifidom deredisnoc eb yllamron dluow taht sretcarahc * 
edulcni ot sehcraes swolla siht ,desu eb nac '\' retcarahc hsalskcab eht sretcarahc laiceps epacse oT * 
* 
.'rab' niatnoc yam tub 'oof' niatnoc ton od taht stnemucod rof hcraes a si `rab oof-` .g.e ,tnemucod a ni raeppa * 
ton tsum ti .e.i ,detibihorp ot ecneserp smret eht stes '-' gnidael a ylesrevnoC .'rab' niatnoc yllanoitpo * 
dna 'oof' niatnoc tsum taht stnemucod rof hcraes a si `rab oof+` .g.e ,'+' a htiw dexiferp eb dluohs mret * 
eht tnemucod a ni deriuqer eb ot ecneserp s'mret a roF .detibihorp ro deriuqer rehtie ot degnahc eb nac siht * 
revewoh ,lanoitpo si tnemucod ni ecneserp s'mret a tluafed yB .reifidom ecneserp a stroppus osla mret hcaE * 
* 
.ecnamrofrep yreuq evorpmi ot ecnatsid tide rof seulav egral diovA * 
.2 fo ecnatsid tide na htiw olleh htiw stnemucod hctam lliw '2~olleh' .g.e ,gnihctam yzzuf edivorp ot * 
detroppus osla si ecnatsid tidE .`5^oof` .g.e ,rehgih erocs mret taht gnihctam stnemucod ekam lliw tsoob * 
mret A .smret no sreifidom tsoob dna ecnatsid tide stroppus rnul ,smret ot dedda eb osla nac sreifidoM * 
* 
.nworht gnieb rorre na ot * 
dael lliw xedni eht ni tneserp ton dleif a gnisU .yreuq siht hctam lliw dleif eltit eht ni olleh * 
mret eht htiw stnemucod ylno ,`olleh:eltit` .g.e ,sdleif cificeps ot detcirtser eb nac smreT * 
* 
.mret a fo gninnigeb eht ta sdracdliw htiw yllaicepse ,ecnamrofrep yreuq no tcapmi * 
evitagen a evah osla nac tub dnuof eb lliw taht stnemucod fo rebmun eht esaercni lliw sdracdliw * 
gniddA .mret elgnis a ni tsixe nac dracdliw eno naht erom dna ,mret eht nihtiw erehwyna detresni eb * 
nac sdracdliw eseht ,sretcarahc deificepsnu erom ro eno hctam ot smret ni dedulcni eb nac sdracdliW * 
* 
.stluser eht ni rehgih knar lliw htob niatnoc taht esoht hguoht ,'dlrow' ro * 
'olleh' rehtie niatnoc taht stnemucod hctam lliw `dlrow olleh` g.e ,RO htiw denibmoc eb lliw dna * 
detroppus osla era smret elpitlum ,`olleh` .g.e ,mret elgnis a eb tsuj nac seireuq tselpmis sti tA * 
* 
.txet detareneg margorp naht rehtar txet deretne namuh rof desu tseb si * 
egaugnal yreuq eht ,yreuQ.rnul esu yltcerid ot desivda si ti seireuq gnidliub yllacitammargorp roF * 
* 
.yreuQ.rnul fo ecnatsni na otni desrap si flesti hcihw egaugnal yreuq * 
elpmis a sedivorp osla ti ,yreuQ.rnul gnisu seireuq etaerc ot ytiliba eht sedivorp rnul hguohtlA * 
**/

/* 
.hctam eht desuac )s(mret hcihw gnidulcni hctam siht tuoba atadatem sniatnoC - ataDhctam }ataDhctaM.rnul{ ytreporp@ * 
.yreuq eht ot si tnemucod siht ralimis woh gnitneserper 1 dna 0 neewteb rebmun A - erocs }rebmun{ ytreporp@ * 
.stneserper tluser siht tnemucod eht fo ecnerefer ehT - fer }gnirts{ ytreporp@ * 
tluseR~xednI.rnul }tcejbO{ fedepyt@ * 
.yreuq hcraes a gnihctam tnemucod a fo sliated sniatnoc tluser A * 
**/

}
enilepip.srtta = enilepip.siht  
sdleif.srtta = sdleif.siht  
teSnekot.srtta = teSnekot.siht  
srotceVdleif.srtta = srotceVdleif.siht  
xednIdetrevni.srtta = xednIdetrevni.siht  
{ )srtta( noitcnuf = xednI.rnul
/* 
.smret hcraes rof esu ot enilepip ehT - enilepip.srtta }enilepiP.rnul{ marap@ * 
.sdleif tnemucod dexedni fo seman ehT - sdleif.srtta }][gnirts{ marap@ * 
.snekot suproc lla fo tes nA - teSnekot.srtta }teSnekoT.rnul{ marap@ * 
srotcev dleiF - srotceVdleif.srtta }>rotceV.rnul ,gnirts<tcejbO{ marap@ * 
.ecnerefer tnemucod ot dleif/mret fo xedni nA - xednIdetrevni.srtta }tcejbO{ marap@ * 
.xedni hcraes tliub eht fo setubirtta ehT - srtta }tcejbO{ marap@ * 
rotcurtsnoc@ * 
* 
.sexedni dezilaires dna tliub ylsuoiverp daol ot desu * 
eb dluohs daol.xednI.rnul ro ,sexedni wen tcurtsnoc ot desu eb dluohs redliuB.rnul * 
daetsni ,rotcurtsnoc siht gnisu detaerc eb ton lliw xednI.rnul fo secnatsni yllausU * 
* 
.xedni eht ot * 
ecafretni yreuq a sedivorp dna stnemucod lla fo xedni tliub eht sniatnoc xedni nA * 
**/

/* 
elagnithgiN revilO 0202 )C( thgirypoC * 
xednI.rnul * 
!*/
}
}  
)(pop.sedoNdekcehcnu.siht    

}    
dlihc.edon = ]yeKdlihc[sedoNdeziminim.siht      

yeKdlihc = rts_.dlihc.edon      
eromyna egnahc t'nac ti wonk ew //      
ecnis edon siht rof yek eht ehcaC //      
{ esle }    
]yeKdlihc[sedoNdeziminim.siht = ]rahc.edon[segde.tnerap.edon      
{ )sedoNdeziminim.siht ni yeKdlihc( fi    

)(gnirtSot.dlihc.edon = yeKdlihc        
,]i[sedoNdekcehcnu.siht = edon rav    
{ )--i ;oTnwod => i ;1 - htgnel.sedoNdekcehcnu.siht = i rav( rof  
{ )oTnwod( noitcnuf = eziminim.epytotorp.redliuB.teSnekoT.rnul

}
)0(eziminim.siht  
{ )( noitcnuf = hsinif.epytotorp.redliuB.teSnekoT.rnul

}
drow = droWsuoiverp.siht  
eurt = lanif.edon  

}  
edoNtxen = edon    

)}    
edoNtxen :dlihc      
,rahc :rahc      
,edon :tnerap      
{(hsup.sedoNdekcehcnu.siht    

edoNtxen = ]rahc[segde.edon    

]i[drow = rahc        
,teSnekoT.rnul wen = edoNtxen rav    
{ )++i ;htgnel.drow < i ;xiferPnommoc = i rav( rof  

}  
dlihc.]1 - htgnel.sedoNdekcehcnu.siht[sedoNdekcehcnu.siht = edon    
{ esle }  
toor.siht = edon    
{ )0 == htgnel.sedoNdekcehcnu.siht( fi  

)xiferPnommoc(eziminim.siht  

}  
++xiferPnommoc    
kaerb )]i[droWsuoiverp.siht =! ]i[drow( fi    
{ )++i ;htgnel.droWsuoiverp.siht < i && htgnel.drow < i ;0 = i rav( rof  

}  
)"noitresni drow redro fo tuO"( rorrE wen worht    
{ )droWsuoiverp.siht < drow( fi  

0 = xiferPnommoc      
,edon rav  
{ )drow( noitcnuf = tresni.epytotorp.redliuB.teSnekoT.rnul

}
}{ = sedoNdeziminim.siht  
][ = sedoNdekcehcnu.siht  
teSnekoT.rnul wen = toor.siht  
"" = droWsuoiverp.siht  
{ )( noitcnuf = redliuB.teSnekoT.rnul
}
tuptuo nruter  

}  
}    
}      
}        
)}          
edon :edon            
,txen :tuptuo            
,edoNq :edoNq            
{(hsup.kcats          

}          
txen = ]egdEn[segde.tuptuo.emarf            
lanif = lanif.txen            
teSnekoT.rnul wen = txen            
tuptuo eht otni //            
ti tresni dna tib ytilanif eht tes //            
eno etaerc tsum ,tey stsixe egde on //            
{ esle }          

lanif || lanif.txen = lanif.txen            
]egdEn[segde.tuptuo.emarf = txen            
lanif ydaerla si edon siht sselnu tib //            
ytilanif eht tes tsuj ,edon wen a etaerc ot deen on //            
retcarahc siht rof stsixe ydaerla egde na //            
{ )segde.tuptuo.emarf ni egdEn( fi          

denifednu = txen              
,lanif.edoNq && lanif.edon = lanif              
,]egdEq[segde.edoNq.emarf = edoNq              
,]egdEn[segde.edon.emarf = edon rav          
{ )'*' == egdEq || egdEq == egdEn( fi        

]n[segdEn = egdEn rav        
{ )++n ;neLn < n ;0 = n rav( rof      

]q[segdEq = egdEq rav      
{ )++q ;neLq < q ;0 = q rav( rof    

htgnel.segdEn = neLn        
,)segde.edon.emarf(syek.tcejbO = segdEn        
,htgnel.segdEq = neLq        
,)segde.edoNq.emarf(syek.tcejbO = segdEq rav    
8V ni desimitpo-ed eb ot noitcnuf eht //    
gnisuac ,edom 'hsah' retne stcejbo eseht fo htob sa //    
pool ni-rof a fo daetsni pool rof a dna syek.tcejbO //    
gnisu era ew ,dohtem gnirtSot# eht htiw sA :ETON //    

)(pop.kcats = emarf    
{ )htgnel.kcats( elihw  

]}  
siht :edon    
,tuptuo :tuptuo    
,b :edoNq    
{[ = kcats rav  

denifednu = emarf      
,teSnekoT.rnul wen = tuptuo rav  
{ )b( noitcnuf = tcesretni.epytotorp.teSnekoT.rnul
/* 
}teSnekoT.rnul{ snruter@ * 
.htiw tcesretni ot teSnekoT rehto nA - b }teSnekoT.rnul{ marap@ * 
* 
.teSnekoT eht nihtiw deniatnoc * 
sdracdliw yna tnuocca otni ekat lliw noitcesretni sihT * 
* 
.teSnekoT dessap eht dna teSnekoT siht * 
fo noitcesretni eht si taht teSnekoT wen a snruteR * 
**/

}
rts nruter  

}  
di.edon + lebal + rts = rts    

]lebal[segde.siht = edon        
,]i[slebal = lebal rav    
{ )++i ;nel < i ;0 = i rav( rof  

htgnel.slebal = nel      
,)(tros.)segde.siht(syek.tcejbO = slebal      
,'0' : '1' ? lanif.siht = rts rav  

}  
rts_.siht nruter    
{ )rts_.siht( fi  

.erutuf eht ni sniw ecnamrofrep ysae naem yam ezimitpo ot 8V //  
gniwolla tub ,elbarapmoc si ecnamrofrep eht skramhcneb //  
elpmis emos morF .)8V ni tsael ta( desimitpo-ed gnieb //  
noitcnuf eht ot sdael ti sa ereh pool ni-rof a gnidiova //  
//  
dedda gnieb syek ynam htiw 'edom-hsah' retne ot //  
ylekil yrev si segde.siht sa ereh syek.tcejbO gnisU :ETON //  
{ )( noitcnuf = gnirtSot.epytotorp.teSnekoT.rnul
/* 
}gnirts{ snruter@ * 
* 
.teSnekoT eht fo noitatneserper yldneirf * 
namuh a eb ot dengised ton si ti hcus sA .teSnekoT a fo * 
noitasiminim dna noitcurtsnoc eht dia ot ylegral ,stcejbo ni * 
syek sa desu eb ot steSnekoT wolla ot dednetni si sihT * 
* 
.teSnekoT a fo noitatneserper gnirts a setareneG * 
**/

}
sdrow nruter  

}  
}    
)}      
]egde[segde.edon.emarf :edon        
,)egde(tacnoc.xiferp.emarf :xiferp        
{(hsup.kcats      

]i[segde = egde rav      
{ )++i ;nel < i ;0 = i rav( rof    

}    
)xiferp.emarf(hsup.sdrow      
)0(tArahc.xiferp.emarf      
/* .gub eht gnixif ,eb ot desoppus s'ti *       
tahw ot gnirts siht "tsac" ot irafaS secrof dohtem epytotorp.gnirtS *       
yna gnillaC 972/seussi/sj.rnul/nnrevilo/moc.buhtig//:sptth *       
:ees ,detpurroc semitemos si xiferp eht tniop siht ta ,irafaS nI */      
{ )lanif.edon.emarf( fi    

htgnel.segde = nel        
,)segde.edon.emarf(syek.tcejbO = segde        
,)(pop.kcats = emarf rav    
{ )htgnel.kcats( elihw  

]}  
siht :edon    
,"" :xiferp    
{[ = kcats rav  

][ = sdrow rav  
{ )( noitcnuf = yarrAot.epytotorp.teSnekoT.rnul
/* 
}][gnirts{ snruter@ * 
* 
.pool etinifni na esuac ot ylekil era dna denifednu * 
era stluser eht sesac eseht ni ,sdracdliw sniatnoc * 
taht teSnekoT a no desu eb ot dednetni ton si sihT * 
* 
.teSnekoT eht nihtiw deniatnoc * 
sgnirts fo yarra na otni teSnekoT siht strevnoC * 
**/

}
toor nruter  

}  
}    
txen = edon      
txen = ]rahc[segde.edon      

lanif = lanif.txen      
teSnekoT.rnul wen = txen rav      
{ esle }    

lanif = lanif.edon      
edon = ]rahc[segde.edon      
{ )"*" == rahc( fi    

)1 - nel == i( = lanif        
,]i[rts = rahc rav    
{ )++i ;nel < i ;htgnel.rts = nel ,0 = i rav( rof  
/*   
.sretcarahc yna fo rebmun yna *   
hctam yllaunitnoc ot decudortni si egde gnicnerefer *   
fles a neht dnuof si retcarahc dracdliw a nehW *   
*   
.retcarahc hcae rof edon a gnidneppa *   
gnirts dessap eht nihtiw sretcarahc lla hguorht setaretI *   
*/  

edon = toor      
,teSnekoT.rnul wen = edon rav  
{ )rts( noitcnuf = gnirtSmorf.teSnekoT.rnul
/* 
}teSnekoT.rnul{ snruter@ * 
.morf teSnekoT a etaerc ot gnirts ehT - rts }gnirts{ marap@ * 
* 
.teSnekoT rehtona * 
htiw gnitcesretni nehw gnihctam dracdliw wolla lliw taht * 
)*( sretcarahc dracdliw erom ro eno niatnoc yam gnirts ehT * 
* 
.gnirts a morf teSnekoT a setaerC * 
**/

}
toor nruter  

}  
}    
)}      
)2(ecils.rts.emarf + Arahc :rts        
,1 - gniniameRstide.emarf :gniniameRstide        
,edoNesopsnart :edon        
{(hsup.kcats      

}      
eurt = lanif.edoNesopsnart        
{ )1 == htgnel.rts.emarf( fi      

}      
edoNesopsnart = ]Brahc[segde.edon.emarf        
teSnekoT.rnul wen = edoNesopsnart        
{ esle }      
]Brahc[segde.edon.emarf = edoNesopsnart        
{ )segde.edon.emarf ni Brahc( fi      

edoNesopsnart          
,)1(tArahc.rts.emarf = Brahc          
,)0(tArahc.rts.emarf = Arahc rav      
{ )1 > htgnel.rts.emarf( fi    
esopsnart ot sretcarahc hguone era ereht dna //    
gniniamer stide era ereht fi noitisopsnart a od ylno nac //    
noitisopsnart //    

}    
)}      
)1(ecils.rts.emarf :rts        
,1 - gniniameRstide.emarf :gniniameRstide        
,edoNnoitutitsbus :edon        
{(hsup.kcats      

}      
eurt = lanif.edoNnoitutitsbus        
{ )1 == htgnel.rts.emarf( fi      

}      
edoNnoitutitsbus = ]"*"[segde.edon.emarf        
teSnekoT.rnul wen = edoNnoitutitsbus rav        
{ esle }      
]"*"[segde.edon.emarf = edoNnoitutitsbus rav        
{ )segde.edon.emarf ni "*"( fi      
{ )1 => htgnel.rts.emarf( fi    
etutitsbus ot tfel sretcarahc era ereht fi dna //    
gniniamer stide hguone evah ew fi noitutitsbus a od ylno nac //    
noitutitsbus //    

}    
eurt = lanif.edon.emarf      
{ )1 == htgnel.rts.emarf( fi    
rts eht morf retcarahc tsal eht gnivomer tsuj //    
noiteled //    

}    
)}      
)1(ecils.rts.emarf :rts        
,1 - gniniameRstide.emarf :gniniameRstide        
,edon.emarf :edon        
{(hsup.kcats      
{ )1 > htgnel.rts.emarf( fi    
gnirts eht ni eteled ot tfel sretcarahc era ereht fi dna //    
gniniamer stide hguone evah ew fi noiteled a od ylno nac //    
noiteled //    

)}    
rts.emarf :rts      
,1 - gniniameRstide.emarf :gniniameRstide      
,edoNnoitresni :edon      
{(hsup.kcats    

}    
eurt = lanif.edoNnoitresni      
{ )0 == htgnel.rts.emarf( fi    

}    
edoNnoitresni = ]"*"[segde.edon.emarf      
teSnekoT.rnul wen = edoNnoitresni rav      
{ esle }    
]"*"[segde.edon.emarf = edoNnoitresni rav      
{ )segde.edon.emarf ni "*"( fi    
noitresni //    

}    
eunitnoc      
{ )0 == gniniameRstide.emarf( fi    

}    
)}      
)1(ecils.rts.emarf :rts        
,gniniameRstide.emarf :gniniameRstide        
,edoNtidEon :edon        
{(hsup.kcats      

}      
eurt = lanif.edoNtidEon        
{ )1 == htgnel.rts.emarf( fi      

}      
edoNtidEon = ]rahc[segde.edon.emarf        
teSnekoT.rnul wen = edoNtidEon        
{ esle }      
]rahc[segde.edon.emarf = edoNtidEon        
{ )segde.edon.emarf ni rahc( fi      

edoNtidEon          
,)0(tArahc.rts.emarf = rahc rav      
{ )0 > htgnel.rts.emarf( fi    
tide on //    

)(pop.kcats = emarf rav    
{ )htgnel.kcats( elihw  

]}  
rts :rts    
,ecnatsiDtide :gniniameRstide    
,toor :edon    
{[ = kcats rav  

teSnekoT.rnul wen = toor rav  
{ )ecnatsiDtide ,rts( noitcnuf = gnirtSyzzuFmorf.teSnekoT.rnul
/* 
}rotceV.rnul{ snruter@ * 
.hctam ot ecnatsid tide dewolla ehT - ecnatsiDtide }rebmun{ marap@ * 
.morf tes nekot eht etaerc ot gnirts ehT - rts }gnirts{ marap@ * 
* 
.3 naht ssel ecnatsid tide eht peek ot desivda si tI * 
.steSnekoT eseht gnitcesretni dna gnitaerc htob fo ecnamrofrep eht no * 
tcapmi citamard a evah lliw ecnatsid tide dewolla eht gnisaercnI * 
* 
.1 fo ecnatsid tide na sa detaert * 
hcae era snoitisopsnart dna snoitutitsbus ,snoiteled ,snoitresnI * 
* 
.ecnatsid tide * 
deificeps a htiw gnirts elgnis a gnitneserper tes nekot a setaerC * 
**/

}
}  
)mret.esualc(gnirtSmorf.teSnekoT.rnul nruter    
{ esle }  
)ecnatsiDtide.esualc ,mret.esualc(gnirtSyzzuFmorf.teSnekoT.rnul nruter    
{ )esualc ni 'ecnatsiDtide'( fi  
{ )esualc( noitcnuf = esualCmorf.teSnekoT.rnul
/* 
}teSnekoT.rnul{ snruter@ * 
.mret eht rof ecnatsid tide lanoitpo ehT - ]ecnatsiDtide.esualc[ }rebmun{ marap@ * 
.mret esualc yreuq ehT - mret.esualc }gnirts{ marap@ * 
.yreuQ.rnul morf esualc elgnis A - esualc }tcejbO{ marap@ * 
etavirp@ * 
* 
.esualc yreuq a morf tes nekot a setaerC * 
**/

}
toor.redliub nruter  
)(hsinif.redliub  

}  
)]i[rra(tresni.redliub    
{ )++i ;nel < i ;htgnel.rra = nel ,0 = i rav( rof  

redliuB.teSnekoT.rnul wen = redliub rav  
{ )rra( noitcnuf = yarrAmorf.teSnekoT.rnul
/* 
.detros ton si yarra tupni eht fi rorre na worht lliW sworht@ * 
}teSnekoT.rnul{ snruter@ * 
.morf tes eht etaerc ot sgnirts fo yarra detros A - rra }][gnirtS{ marap@ * 
* 
.sdrow fo yarra detros nevig eht morf ecnatsni teSnekoT a setaerC * 
**/

1 = dItxen_.teSnekoT.rnul
/* 
etavirp@ * 
* 
.desiminim yltcerroc eb ot reifitnedi euqinu a eriuqer steSnekoT * 
* 
.teSnekot wen a ot * 
ngissa ot reifitnedi ,tnemercni otua ,txen eht fo kcart speeK * 
**/

}
1 =+ dItxen_.teSnekoT.rnul  
dItxen_.teSnekoT.rnul = di.siht  
}{ = segde.siht  
eslaf = lanif.siht  
{ )( noitcnuf = teSnekoT.rnul
/* 
rotcurtsnoc@ * 
* 
.tes nekot eht gnirots rof desu ecaps eht ecuder ot spleh sihT * 
.snekot neewteb derahs era sexiffus dna sexiferp nommoc htob erehw * 
,atamotua etats etinif laminim a sa detnemelpmi era stes nekoT * 
* 
.dedivorp eb osla nac gnihctam ecnatsid tide siht morf * 
dna ,detroppus era sdracdliw gniliart dna deniatnoc ,gnidaeL * 
.gnihctam dracdliw mrofrep ot desu era stes nekot yllanoitiddA * 
* 
.tes nekot yreuq elpmis a fo esac * 
eht ni sa nekot elgnis a dloh nac ti ro ,tes nekot xedni * 
eht fo esac eht ni sa ,snekot elpitlum dloh nac tes nekot A * 
* 
.xedni detrevni eht ni pu * 
kool ot snekot hcihw dnif ot detcesretni neht era tes nekot * 
xedni dna tes nekot yreuq siht ,xedni eht ot yreuq gnimocni * 
na tneserper ot desu osla era stes nekoT .xedni na nihtiw * 
snekot lla fo tsil euqinu eht erots ot desu si tes nekot A * 
**/

/* 
elagnithgiN revilO 0202 )C( thgirypoC * 
teSnekoT.rnul * 
!*/
)'remmirt' ,remmirt.rnul(noitcnuFretsiger.enilepiP.rnul

}
)}  
)'' ,/$+W\/(ecalper.)'' ,/+W\^/(ecalper.s nruter    
{ )s( noitcnuf(etadpu.nekot nruter  
{ )nekot( noitcnuf = remmirt.rnul
/* 
enilepiP.rnul ees@ * 
}nekoT.rnul{ snruter@ * 
retlif eht hguorht ssap ot nekot ehT nekot }nekoT.rnul{ marap@ * 
}noitcnuFenilepiP.rnul{ stnemelpmi@ * 
citats@ * 
* 
.sretcarahc nital-non htiw segaugnal htiw * 
esu rof detpada ro devomer eb rehtie dluohs dna sretcarahc * 
nital non rof yltcerroc krow ton yam noitatnemelpmi sihT * 
* 
.xedni eht retne * 
yeht erofeb snekot fo dne dna gninnigeb eht morf sretcarahc * 
drow non gnimmirt rof noitcnuf enilepip a si remmirt.rnul * 
**/

/* 
elagnithgiN revilO 0202 )C( thgirypoC * 
remmirt.rnul * 
!*/
)'retliFdroWpots' ,retliFdroWpots.rnul(noitcnuFretsiger.enilepiP.rnul

)]
'ruoy'  
,'uoy'  
,'tey'  
,'dluow'  
,'htiw'  
,'lliw'  
,'yhw'  
,'mohw'  
,'ohw'  
,'elihw'  
,'hcihw'  
,'erehw'  
,'nehw'  
,'tahw'  
,'erew'  
,'ew'  
,'saw'  
,'stnaw'  
,'su'  
,'sawt'  
,'oot'  
,'ot'  
,'sit'  
,'siht'  
,'yeht'  
,'eseht'  
,'ereht'  
,'neht'  
,'meht'  
,'rieht'  
,'eht'  
,'taht'  
,'naht'  
,'emos'  
,'os'  
,'ecnis'  
,'dluohs'  
,'ehs'  
,'syas'  
,'yas'  
,'dias'  
,'rehtar'  
,'nwo'  
,'ruo'  
,'rehto'  
,'ro'  
,'ylno'  
,'no'  
,'netfo'  
,'ffo'  
,'fo'  
,'ton'  
,'ron'  
,'on'  
,'rehtien'  
,'ym'  
,'tsum'  
,'tsom'  
,'thgim'  
,'em'  
,'yam'  
,'ylekil'  
,'ekil'  
,'tel'  
,'tsael'  
,'tsuj'  
,'sti'  
,'ti'  
,'si'  
,'otni'  
,'ni'  
,'fi'  
,'i'  
,'revewoh'  
,'woh'  
,'sih'  
,'mih'  
,'sreh'  
,'reh'  
,'eh'  
,'evah'  
,'sah'  
,'dah'  
,'tog'  
,'teg'  
,'morf'  
,'rof'  
,'yreve'  
,'reve'  
,'esle'  
,'rehtie'  
,'seod'  
,'od'  
,'did'  
,'raed'  
,'dluoc'  
,'tonnac'  
,'nac'  
,'yb'  
,'tub'  
,'neeb'  
,'esuaceb'  
,'eb'  
,'ta'  
,'sa'  
,'era'  
,'yna'  
,'dna'  
,'na'  
,'gnoma'  
,'ma'  
,'osla'  
,'tsomla'  
,'lla'  
,'retfa'  
,'ssorca'  
,'tuoba'  
,'elba'  
,'a'  
[(retliFdroWpotSetareneg.rnul = retliFdroWpots.rnul
/* 
}enilepiP.rnul knil@{ ees@ * 
}nekoT.rnul{ snruter@ * 
.drow pots a gnieb rof kcehc ot nekot A - nekot }nekoT.rnul{ smarap@ * 
}noitcnuFenilepiP.rnul{ stnemelpmi@ * 
noitcnuf@ * 
* 
.denruter eb lliw denifednu neht retlif * 
eht ssap ton seod nekot eht fI .enilepiP eht ni desu eb ot dednetni si sihT * 
* 
.retlif eht hguorht dessap eb ton lliw tsil eht ni deniatnoc * 
sdrow yna ,retlif tsil drow pots egaugnal hsilgnE na si retliFdroWpots.rnul * 
**/

}
}  
nekot nruter ))(gnirtSot.nekot ==! ])(gnirtSot.nekot[sdrow && nekot( fi    
{ )nekot( noitcnuf nruter  

)}{ ,}  
omem nruter    
droWpots = ]droWpots[omem    
{ )droWpots ,omem( noitcnuf(ecuder.sdroWpots = sdrow rav  
{ )sdroWpots( noitcnuf = retliFdroWpotSetareneg.rnul
/* 
retliFdroWpots.rnul ees@ * 
enilepiP.rnul ees@ * 
}noitcnuFenilepiP.rnul{ snruter@ * 
retlif eht hguorht ssap ot nekot ehT nekot }yarrA{ marap@ * 
noitcnuf@ * 
* 
.segaugnal hsilgnE non ro snoitacilppa rof sretliFdroWpots motsuc etareneg ot * 
desu eb nac dna rotareneg siht gnisu tliub si retliFdroWpots.rnul ni tliub ehT * 
* 
.sdrow pots fo tsil * 
dedivorp eht morf noitcnuf retliFdroWpots a sdliub retliFdroWpotSetareneg.rnul * 
**/

/* 
elagnithgiN revilO 0202 )C( thgirypoC * 
retliFdroWpots.rnul * 
!*/
)'remmets' ,remmets.rnul(noitcnuFretsiger.enilepiP.rnul

;)()}
}  
;)remmetSretrop(etadpu.nekot nruter    
{ )nekot( noitcnuf nruter  

;}  
;w nruter    

}    
;)1(rtsbus.w + )(esaCrewoLot.hctsrif = w      
{ )"y" == hctsrif( fi    

y ot kcab Y laitini nrut dna //    

}    
;)"",er(ecalper.w = w      
;2_b1_er = er      
{ ))w(tset.2er && )w(tset.er( fi    
;1rgm_er = 2er    
;1_5_er = er    

}    
}      
;mets = w        
{ ))))mets(tset.3er(! && )mets(tset.2er( || )mets(tset.er( fi      
;5_3er = 3er      
;1qem_er = 2er      
;1rgm_er = er      
;]1[pf = mets      
;)w(cexe.er = pf rav      
{ ))w(tset.er( fi    
;5_er = er    
5 petS //    

}    
}      
;mets = w        
{ ))mets(tset.2er( fi      
;1rgm_er = 2er      
;]2[pf + ]1[pf = mets      
;)w(cexe.2er = pf rav      
{ ))w(tset.2er( fi esle }    
}      
;mets = w        
{ ))mets(tset.er( fi      
;1rgm_er = er      
;]1[pf = mets      
;)w(cexe.er = pf rav      
{ ))w(tset.er( fi    
;4_2er = 2er    
;4_er = er    
4 petS //    

}    
}      
;]xiffus[tsil3pets + mets = w        
{ ))mets(tset.er( fi      
;0rgm_er = er      
;]2[pf = xiffus      
;]1[pf = mets      
;)w(cexe.er = pf rav      
{ ))w(tset.er( fi    
;3_er = er    
3 petS //    

}    
}      
;]xiffus[tsil2pets + mets = w        
{ ))mets(tset.er( fi      
;0rgm_er = er      
;]2[pf = xiffus      
;]1[pf = mets      
;)w(cexe.er = pf rav      
{ ))w(tset.er( fi    
;2_er = er    
2 petS //    

}    
;"i" + mets = w      
;]1[pf = mets      
;)w(cexe.er = pf rav      
{ ))w(tset.er( fi    
;c1_er = er    
)yas >- yas ,yb >- yb ,irc >- yrc os( drow eht fo rettel tsrif eht ton si hcihw lewov-non a yb dedecerp fi i yb Y ro y xiffus ecalper - c1 petS //    

}    
}      
} ;"e" + w = w { ))w(tset.4er( fi esle        
} ;)"",er(ecalper.w = w ;2_b1_er = er { ))w(tset.3er( fi esle        
} ;"e" + w = w { ))w(tset.2er( fi        
;2_b1_4er = 4er        
;2_b1_3er = 3er        
;2_b1_2er = 2er        
;mets = w        
{ ))mets(tset.2er( fi      
;v_s_er = 2er      
;]1[pf = mets      
;)w(cexe.2er = pf rav      
{ ))w(tset.2er( fi esle }    
}      
;)"",er(ecalper.w = w        
;2_b1_er = er        
{ ))]1[pf(tset.er( fi      
;0rgm_er = er      
;)w(cexe.er = pf rav      
{ ))w(tset.er( fi    
;b1_2er = 2er    
;b1_er = er    
b1 petS //    

} ;)"2$1$",2er(ecalper.w = w { ))w(tset.2er( fi esle    
} ;)"2$1$",er(ecalper.w = w { ))w(tset.er( fi    

;a1_2er = 2er    
a1_er = er    
a1 petS //    

}    
;)1(rtsbus.w + )(esaCreppUot.hctsrif = w      
{ )"y" == hctsrif( fi    
;)1,0(rtsbus.w = hctsrif    

} ;w nruter { )3 < htgnel.w( fi    

;4er      
,3er      
,2er      
,er      
,hctsrif      
,xiffus      
,mets rav    
{ )w(remmetSretrop noitcnuf = remmetSretrop rav  

;)"$]yxwuoiea^[" + v + C + "^"(pxEgeR wen = 5_3er rav  
;/$ll/ = 1_5_er rav  
;/$e)?+.(^/ = 5_er rav  

;/$)noi()t|s()?+.(^/ = 4_2er rav  
;/$)ezi|evi|suo|iti|eta|msi|uo|tne|tnem|tneme|tna|elbi|elba|ci|re|ecne|ecna|la()?+.(^/ = 4_er rav  

;/$)ssen|luf|laci|itici|ezila|evita|etaci()?+.(^/ = 3_er rav  

;/$)igol|itilib|itivi|itila|ssensuo|ssenluf|ssenevi|msila|rota|noita|noitazi|ilsuo|ile|iltne|illa|ilb|rezi|icna|icne|lanoit|lanoita()?+.(^/ = 2_er rav  
;/$y)]uoiea^[?+.(^/ = c1_er rav  

;)"$]yxwuoiea^[" + v + C + "^"(pxEgeR wen = 2_b1_4er rav  
;)"$1\\)]zslyuoiea^[("(pxEgeR wen = 2_b1_3er rav  
;/$)zi|lb|ta(/ = 2_b1_2er rav  
;/$./ = 2_b1_er rav  
;/$)gni|de()?+.(^/ = b1_2er rav  
;/$dee)?+.(^/ = b1_er rav  
;/$s)]s^[()?+.(^/ = a1_2er rav  
;/$se)i|ss()?+.(^/ = a1_er rav  

;)v_s(pxEgeR wen = v_s_er rav  
;)1qem(pxEgeR wen = 1qem_er rav  
;)1rgm(pxEgeR wen = 1rgm_er rav  
;)0rgm(pxEgeR wen = 0rgm_er rav  

mets ni lewov //                   ;v + "?)" + C + "(^" = v_s    
1>m si ...CVCV]C[ //       ,C + V + C + V + "?)" + C + "(^" = 1rgm    
1=m si ]V[CV]C[ //  ,"$?)" + V + "(" + C + V + "?)" + C + "(^" = 1qem    
0>m si ...CV]C[ //               ,C + V + "?)" + C + "(^" = 0rgm    

ecneuqes lewov //      ,"*]uoiea[" + v = V    
ecneuqes tnanosnoc //    ,"*]yuoiea^[" + c = C    
lewov //          ,"]yuoiea[" = v    
tnanosnoc //          ,"]uoiea^[" = c    

,}    
"" : "ssen"      
,"" : "luf"      
,"ci" : "laci"      
,"ci" : "itici"      
,"la" : "ezila"      
,"" : "evita"      
,"ci" : "etaci"      
{ = tsil3pets    

,}    
"gol" : "igol"      
,"elb" : "itilib"      
,"evi" : "itivi"      
,"la" : "itila"      
,"suo" : "ssensuo"      
,"luf" : "ssenluf"      
,"evi" : "ssenevi"      
,"la" : "msila"      
,"eta" : "rota"      
,"eta" : "noita"      
,"ezi" : "noitazi"      
,"suo" : "ilsuo"      
,"e" : "ile"      
,"tne" : "iltne"      
,"la" : "illa"      
,"elb" : "ilb"      
,"ezi" : "rezi"      
,"ecna" : "icna"      
,"ecne" : "icne"      
,"noit" : "lanoit"      
,"eta" : "lanoita"      
{ = tsil2pets rav  
{)(noitcnuf( = remmets.rnul
/* 
noitcnuf@ * 
}enilepiP.rnul knil@{ ees@ * 
}nekoT.rnul{ snruter@ * 
mets ot gnirts ehT - nekot }nekoT.rnul{ marap@ * 
}noitcnuFenilepiP.rnul{ stnemelpmi@ * 
citats@ * 
* 
nitram~/gro.suratrat//:ptth morf nekat remmetSretroP eht fo noitatnemelpmi * 
tpircSavaJ a si siht ,remmets egaugnal hsilgne na si remmets.rnul * 
**/

/* 
txt.sj/remmetSretroP/nitram~/gro.suratrat//:ptth - morf edoc sedulcnI * 
elagnithgiN revilO 0202 )C( thgirypoC * 
remmets.rnul * 
!*/
/* elbasid-tnilse */
}
stnemele.siht nruter  
{ )( noitcnuf = NOSJot.epytotorp.rotceV.rnul
/* 
}][rebmuN{ snruter@ * 
* 
.rotcev eht fo noitatneserper elbazilaires NOSJ A * 
**/

}
tuptuo nruter  

}  
]i[stnemele.siht = ]j[tuptuo    
{ )++j ,2 =+ i ;htgnel.stnemele.siht < i ;0 = j ,1 = i rav( rof  

)2 / htgnel.stnemele.siht( yarrA wen = tuptuo rav  
{ )( noitcnuf = yarrAot.epytotorp.rotceV.rnul
/* 
}][rebmuN{ snruter@ * 
* 
.rotcev eht nihtiw stnemele eht fo yarra na ot rotcev eht strevnoC * 
**/

}
0 || )(edutingam.siht / )rotceVrehto(tod.siht nruter  
{ )rotceVrehto( noitcnuf = ytiralimis.epytotorp.rotceV.rnul
/* 
}rebmuN{ snruter@ * 
.htiw ytiralimis * 
eht etaluclac ot rotcev rehto ehT - rotceVrehto }rotceV.rnul{ marap@ * 
* 
.rotcev rehtona dna rotcev siht neewteb ytiralimis eht setaluclaC * 
**/

}
tcudorPtod nruter  

}  
}    
2 =+ j      
2 =+ i      
]1 + j[b * ]1 + i[a =+ tcudorPtod      
{ )laVb == laVa( fi esle }    
2 =+ j      
{ )laVb > laVa( fi esle }    
2 =+ i      
{ )laVb < laVa( fi    
]j[b = laVb ,]i[a = laVa    
{ )neLb < j && neLa < i( elihw  

0 = j ,0 = i      
,0 = laVb ,0 = laVa      
,htgnel.b = neLb ,htgnel.a = neLa      
,stnemele.rotceVrehto = b ,stnemele.siht = a      
,0 = tcudorPtod rav  
{ )rotceVrehto( noitcnuf = tod.epytotorp.rotceV.rnul
/* 
}rebmuN{ snruter@ * 
.htiw tcudorp tod eht etupmoc ot rotcev ehT - rotceVrehto }rotceV.rnul{ marap@ * 
* 
.rotcev rehtona dna rotcev siht fo tcudorp tod eht setaluclaC * 
**/

}
)serauqSfOmus(trqs.htaM = edutingam_.siht nruter  

}  
lav * lav =+ serauqSfOmus    
]i[stnemele.siht = lav rav    
{ )2 =+ i ;htgneLstnemele < i ;1 = i rav( rof  

htgnel.stnemele.siht = htgneLstnemele      
,0 = serauqSfOmus rav  

edutingam_.siht nruter )edutingam_.siht( fi  
{ )( noitcnuf = edutingam.epytotorp.rotceV.rnul
/* 
}rebmuN{ snruter@ * 
* 
.rotcev siht fo edutingam eht setaluclaC * 
**/

}
}  
)lav ,xdItresni ,0 ,noitisop(ecilps.stnemele.siht    
{ esle }  
)lav ,]1 + noitisop[stnemele.siht(nf = ]1 + noitisop[stnemele.siht    
{ )xdItresni == ]noitisop[stnemele.siht( fi  

)xdItresni(xednIroFnoitisop.siht = noitisop rav  
0 = edutingam_.siht  
{ )nf ,lav ,xdItresni( noitcnuf = trespu.epytotorp.rotceV.rnul
/* 
stnemugra sa dessap era eulav detseuqer * 
eht dna eulav gnitsixe eht ,setadpu rof dellac si taht noitcnuf A - nf }noitcnuf{ marap@ * 
.rotcev eht otni detresni eb ot eulav ehT - lav }rebmuN{ marap@ * 
.detresni eb dluohs tnemele eht hcihw ta xedni ehT - xdItresni }rebmuN{ marap@ * 
* 
.rotcev eht nihtiw xedni gnitsixe na setadpu ro stresnI * 
**/

}
)}  
"xedni etacilpud" worht    
{ )( noitcnuf ,lav ,xdItresni(trespu.siht  
{ )lav ,xdItresni( noitcnuf = tresni.epytotorp.rotceV.rnul
/* 
.rotcev eht otni detresni eb ot eulav ehT - lav }rebmuN{ marap@ * 
.detresni eb dluohs tnemele eht hcihw ta xedni ehT - xdItresni }rebmuN{ marap@ * 
* 
.xedni siht rof * 
yrtne na ydaerla si ereht fi rorre na worht lliw ,setacilpud wolla ton seoD * 
* 
.rotcev eht nihtiw xedni na ta tnemele na stresnI * 
**/

}
}  
2 * )1 + tnioPtovip( nruter    
{ )xedni < xednItovip( fi  

}  
2 * tnioPtovip nruter    
{ )xedni > xednItovip( fi  

}  
2 * tnioPtovip nruter    
{ )xedni == xednItovip( fi  

}  
]2 * tnioPtovip[stnemele.siht = xednItovip    
)2 / htgneLecils(roolf.htaM + trats = tnioPtovip    
trats - dne = htgneLecils    

}    
kaerb      
{ )xedni == xednItovip( fi    

}    
tnioPtovip = dne      
{ )xedni > xednItovip( fi    

}    
tnioPtovip = trats      
{ )xedni < xednItovip( fi    
{ )1 > htgneLecils( elihw  

]2 * tnioPtovip[stnemele.siht = xednItovip      
,)2 / htgneLecils(roolf.htaM = tnioPtovip      
,trats - dne = htgneLecils      
,2 / htgnel.stnemele.siht = dne      
,0 = trats rav  

}  
0 nruter    
{ )0 == htgnel.stnemele.siht( fi  
gninnigeb eht ta detresni eb nac elput eht rotcev ytpme na roF //  
{ )xedni( noitcnuf = xednIroFnoitisop.epytotorp.rotceV.rnul
/* 
}rebmuN{ snruter@ * 
.detresni eb dluohs tnemele eht hcihw ta xedni ehT - xdItresni }rebmuN{ marap@ * 
* 
xedni taht ta etacilpud a si ereht rehtehw kcehc ot ytilibisnopser srellac eht si * 
ti tub ,detadpu eb ot erew xedni taht rof eulav eht fi sa denruter si noitisop eht * 
neht sexedni etacilpud era ereht fI .trespu dna tresni yb yllanretni desu si sihT * 
* 
.xedni nevig a tresni ot rotcev eht nihtiw noitisop eht setaluclaC * 
**/


}
][ || stnemele = stnemele.siht  
0 = edutingam_.siht  
{ )stnemele( noitcnuf = rotceV.rnul
/* 
.sriap eulav tnemele dna xedni tnemele fo tsil talf ehT - ]stnemele[ }][rebmuN{ marap@ * 
rotcurtsnoc@ * 
* 
.snoitaluclac rotcev rof desu gnieb nehw ecnamrofrep * 
tneced reffo llits dna elbissop sa esraps sa eb ot yarra gniylrednu eht swolla * 
sihT .]eulav ,xedni ,eulav ,xedni[ .g.E .eulav sti yb dewollof yletaidemmi si xedni * 
stnemele na erehw ,yarra talf a htiw detnemelpmi era srotcev snosaer ecnamrofrep roF * 
* 
.rotcurtsnoc eht ot dedivorp eb nac stnemele war eht rotcev depmud ylsuoiverp a gnidaol * 
fo esac eht ni tub ,rotcev a gnizilaitini rof deriuqer era sretemarap on yllamroN * 
* 
.yreuq a dna tnemucod a * 
ro stnemucod owt neewteb ytiralimis eht enimreted ot snoitarepo troppus srotcev * 
esehT .seireuq dna stnemucod fo ecaps rotcev eht tcurtsnoc ot desu si rotcev A * 
**/

/* 
elagnithgiN revilO 0202 )C( thgirypoC * 
rotceV.rnul * 
!*/
}
)}  
lebal.nf nruter    

)nf(deretsigeRtoNnoitcnuFfInraw.enilepiP.rnul    
{ )nf( noitcnuf(pam.kcats_.siht nruter  
{ )( noitcnuf = NOSJot.epytotorp.enilepiP.rnul
/* 
}yarrA{ snruter@ * 
* 
.deretsiger neeb ton sah noitcnuf eht fi gninraw a sgoL * 
* 
.noitasilaires rof ydaer enilepip eht fo noitatneserper a snruteR * 
**/

}
][ = kcats_.siht  
{ )( noitcnuf = teser.epytotorp.enilepiP.rnul
/* 
* 
.srossecorp gnitsixe yna gnivomer yb enilepip eht steseR * 
**/

}
)}  
)(gnirtSot.t nruter    
{ )t( noitcnuf(pam.)]nekot[(nur.siht nruter  

)atadatem ,rts( nekoT.rnul wen = nekot rav  
{ )atadatem ,rts( noitcnuf = gnirtSnur.epytotorp.enilepiP.rnul
/* 
}][gnirts{ snruter@ * 
.enilepip eht ot dessap * 
nekot eht htiw etaicossa ot atadatem lanoitpO - atadatem }tcejbo?{ marap@ * 
.enilepip eht hguorht ssap ot gnirts ehT - rts }gnirts{ marap@ * 
* 
.sgnirts ot kcab snekot gnitluser eht gnippam dna nekot * 
a ni gnirts dessap eht gnipparw fo erac sekat dohtem sihT .tuo sgnirts * 
gnitteg dna enilepip a hguorht gnirts a gnissap rof dohtem ecneinevnoC * 
**/

}
snekot nruter  

}  
omem = snekot    

}    
}      
)tluser(hsup.omem        
{ esle }      
}        
)]k[tluser(hsup.omem          
{ )++k ;htgnel.tluser < k ;0 = k rav( rof        
{ ))tluser(yarrAsi.yarrA( fi      

eunitnoc )'' === tluser || 0 diov === tluser || llun === tluser( fi      

)snekot ,j ,]j[snekot(nf = tluser rav      
{ )++j ;htgnel.snekot < j ;0 = j rav( rof    

][ = omem rav    
]i[kcats_.siht = nf rav    
{ )++i ;htgneLkcats < i ;0 = i rav( rof  

htgnel.kcats_.siht = htgneLkcats rav  
{ )snekot( noitcnuf = nur.epytotorp.enilepiP.rnul
/* 
}yarrA{ snruter@ * 
.enilepip eht hguorht nur ot snekot ehT snekot }yarrA{ marap@ * 
* 
.snekot dessap * 
eht tsniaga enilepip eht pu ekam taht snoitcnuf fo tsil tnerruc eht snuR * 
**/

}
)1 ,sop(ecilps.kcats_.siht  

}  
nruter    
{ )1- == sop( fi  
)nf(fOxedni.kcats_.siht = sop rav  
{ )nf( noitcnuf = evomer.epytotorp.enilepiP.rnul
/* 
.enilepip eht morf evomer ot noitcnuf ehT nf }noitcnuFenilepiP.rnul{ marap@ * 
* 
.enilepip eht morf noitcnuf a sevomeR * 
**/

}
)nFwen ,0 ,sop(ecilps.kcats_.siht  

}  
)'nFgnitsixe dnif tonnaC'(rorrE wen worht    
{ )1- == sop( fi  
)nFgnitsixe(fOxedni.kcats_.siht = sop rav  

)nFwen(deretsigeRtoNnoitcnuFfInraw.enilepiP.rnul  
{ )nFwen ,nFgnitsixe( noitcnuf = erofeb.epytotorp.enilepiP.rnul
/* 
.enilepip eht ot dda ot noitcnuf wen ehT - nFwen }noitcnuFenilepiP.rnul{ marap@ * 
.enilepip eht ni stsixe ydaerla taht noitcnuf A - nFgnitsixe }noitcnuFenilepiP.rnul{ marap@ * 
* 
.deretsiger neeb ton sah noitcnuf eht fi gninraw a sgoL * 
* 
.enilepip * 
eht ni stsixe ydaerla taht noitcnuf a erofeb noitcnuf elgnis a sddA * 
**/

}
)nFwen ,0 ,sop(ecilps.kcats_.siht  
1 + sop = sop  

}  
)'nFgnitsixe dnif tonnaC'(rorrE wen worht    
{ )1- == sop( fi  
)nFgnitsixe(fOxedni.kcats_.siht = sop rav  

)nFwen(deretsigeRtoNnoitcnuFfInraw.enilepiP.rnul  
{ )nFwen ,nFgnitsixe( noitcnuf = retfa.epytotorp.enilepiP.rnul
/* 
.enilepip eht ot dda ot noitcnuf wen ehT - nFwen }noitcnuFenilepiP.rnul{ marap@ * 
.enilepip eht ni stsixe ydaerla taht noitcnuf A - nFgnitsixe }noitcnuFenilepiP.rnul{ marap@ * 
* 
.deretsiger neeb ton sah noitcnuf eht fi gninraw a sgoL * 
* 
.enilepip * 
eht ni stsixe ydaerla taht noitcnuf a retfa noitcnuf elgnis a sddA * 
**/

}
)siht ,}  
)nf(hsup.kcats_.siht    
)nf(deretsigeRtoNnoitcnuFfInraw.enilepiP.rnul    
{ )nf( noitcnuf(hcaErof.snf  

)stnemugra(llac.ecils.epytotorp.yarrA = snf rav  
{ )( noitcnuf = dda.epytotorp.enilepiP.rnul
/* 
.enilepip eht ot dda ot snoitcnuf fo rebmun ynA - snoitcnuf }][noitcnuFenilepiP.rnul{ marap@ * 
* 
.deretsiger neeb ton sah noitcnuf eht fi gninraw a sgoL * 
* 
.enilepip eht fo dne eht ot snoitcnuf wen sddA * 
**/

}
enilepip nruter  

)}  
}    
)emaNnf + ' :noitcnuf deretsigernu daol tonnaC'(rorrE wen worht      
{ esle }    
)nf(dda.enilepip      
{ )nf( fi    

]emaNnf[snoitcnuFderetsiger.enilepiP.rnul = nf rav    
{ )emaNnf( noitcnuf(hcaErof.desilaires  

enilepiP.rnul wen = enilepip rav  
{ )desilaires( noitcnuf = daol.enilepiP.rnul
/* 
}enilepiP.rnul{ snruter@ * 
.daol ot enilepip desilaires ehT - desilaires }tcejbO{ marap@ * 
* 
.nworht eb lliw rorre * 
na neht deretsiger neeb ton sah atad desilaires eht morf noitcnuf yna fI * 
.enilepiP.rnul htiw deretsiger eb ydaerla tsum dedaol eb ot snoitcnuf llA * 
* 
.enilepip desilaires ylsuoiverp a sdaoL * 
**/

}
}  
)nf ,'n\.xedni eht gnisilaires nehw smelborp esuac yam sihT .enilepip htiw deretsiger ton si noitcnuF'(nraw.slitu.rnul    
{ )deretsigeRsi!( fi  

)snoitcnuFderetsiger.siht ni lebal.nf( && lebal.nf = deretsigeRsi rav  
{ )nf( noitcnuf = deretsigeRtoNnoitcnuFfInraw.enilepiP.rnul
/* 
etavirp@ * 
.rof kcehc ot noitcnuf ehT - nf }noitcnuFenilepiP.rnul{ marap@ * 
* 
.noitcnuf enilepiP a sa deretsiger ton si noitcnuf eht fi snraW * 
**/

}
nf = ]lebal.nf[snoitcnuFderetsiger.enilepiP.rnul  
lebal = lebal.nf  

}  
)lebal + ' :noitcnuf deretsiger gnitsixe gnitirwrevO'(nraw.slitu.rnul    
{ )snoitcnuFderetsiger.siht ni lebal( fi  
{ )lebal ,nf( noitcnuf = noitcnuFretsiger.enilepiP.rnul
/* 
htiw noitcnuf siht retsiger ot lebal ehT - lebal }gnirtS{ marap@ * 
.rof kcehc ot noitcnuf ehT - nf }noitcnuFenilepiP.rnul{ marap@ * 
* 
.enilepip a gninnur nehw desu eb ot meht rof enilepip eht fo secnatsni ot dedda * 
eb llits tsum snoitcnuf ,enilepip a ot ti dda ton seod noitcnuf a gniretsigeR * 
* 
.dedaol eb ot sdeen enilepip desilaires a ro ,desilaires eb ot sdeen * 
enilepip eht fi deretsiger eb dluohs enilepip eht ni desu era taht snoitcnuF * 
* 
.enilepip eht htiw noitcnuf a retsigeR * 
**/

/* 
})][nekoT.rnul|nekoT.rnul?({ snruter@ * 
.dleif/tnemucod siht rof snekot llA - snekot }][nekoT.rnul{ marap@ * 
.dleif/tnemucod siht rof snekot fo tsil etelpmoc eht ni nekot siht fo xedni ehT - i }rebmun{ marap@ * 
.dessecorp gnieb tnemucod eht morf nekot A - nekot }nekoT.rnul{ marap@ * 
noitcnuFenilepiP.rnul ecafretni@ * 
* 
.enilepiP.rnul a gnisu rehtegot deniahc eb yam snoitcnuf enilepip fo rebmun ynA * 
* 
.xedni eht ot dedda eb lliw snekot denruter lliw lla dna snoitcnuf enilepip maertsnwod yna ot * 
dessap eb lliw nekot hcaE .snekot fo yarra na gninruter yb denruter eb nac snekot elpitluM * 
* 
.xedni eht ot dedda eb ton lliw dna snoitcnuf * 
enilepip maertsnwod yna ot dessap eb ton lliw nekot sihT .gnirts ytpme na ro denifednu ,llun * 
gninruter yb dedracsid eb dluohs nekot dessap eht taht etacidni nac noitcnuf enilepip A * 
* 
.nekot nevig a rof atadatem )dda ro( etatum ro * 
gnirts nekot eht etatum nac noitcnuf enilepip A .atadatem nwonk lla sa llew sa gnirts * 
nekot eht sniatnoc nekoT.rnul A .nekoT.rnul ot nekoT.rnul spam noitcnuf enilepip A * 
**/

)llun(etaerc.tcejbO = snoitcnuFderetsiger.enilepiP.rnul

}
][ = kcats_.siht  
{ )( noitcnuf = enilepiP.rnul
/* 
rotcurtsnoc@ * 
* 
.yrassecen ton si * 
snoitcnuf enilepip gniretsiger neht enilepip eht gnisilaires no gninnalp ton fI * 
* 
.nworht eb lliw rorre na deretsiger ton era taht * 
snoitcnuf sesu taht enilepip desilaires a daol ot gniyrt fI .dedaol eb neht * 
nac snoitcnuf deretsigeR .enilepiP.rnul htiw deretsiger eb dluohs enilepip a * 
fo ecnatsni na ni desu snoitcnuf lla ,krow ot senilepip fo noitasilaires roF * 
* 
.nekot siht * 
htiw dellac eb ton lliw enilepip eht fo tser eht ,denifednu nruter dluohs * 
noitcnuf eht xedni eht gniretne morf nekot a edulcxe oT .enilepip eht ni * 
noitcnuf txen eht ot dessap eb lliw enilepip eht ni snoitcnuf fo tuptuo ehT * 
* 
.snekot lanigiro eht lla * 
fo tsil a yllanif dna snekot lla fo tsil lanigiro eht ni nekot taht fo xedni * 
eht ,nekot a gnissap ,nrut ni noitcnuf hcae llac lliw enilepip eht nur nehW * 
* 
.devomer eb nac snoitcnuf tluafed * 
eseht ro snoitcnuf eseht fo rehtie retfa ro erofeb dedda eb nac snoitcnuf * 
artxE .remmets egaugnal hsilgnE na dna retlif drow pots a htiw enilepip * 
a niatnoc lliw tuctrohs rnul eht htiw detaerc xednI.rnul fo ecnatsni nA * 
* 
.xedni eht * 
tsniaga nar gnieb seireuq dna xedni hcraes eht gniretne stnemucod ni snekot * 
lla ot deilppa eb ot snoitcnuf fo tsil deredro na niatniam senilepiP.rnul * 
**/

/* 
elagnithgiN revilO 0202 )C( thgirypoC * 
enilepiP.rnul * 
!*/
/+]-\s\[/ = rotarapes.rezinekot.rnul
/* 
rezinekot.rnul ees@ * 
citats@ * 
* 
.snehpyh dna ecapsetihw no stilps siht tluafed yB .sgnirts gnizinekot nehw ruoivaheb `rezinekot.rnul` * 
fo ruoivaheb eht egnahc ot ytreporp siht edirrevO .snekot otni gnirts a tilps ot desu rotarapes ehT * 
**/

}
snekot nruter  

}  

}    
1 + dnEecils = tratSecils      

}      
)        
)          
atadateMnekot            
,)dnEecils ,tratSecils(ecils.rts            
( nekoT.rnul wen          
(hsup.snekot        

htgnel.snekot = ]"xedni"[atadateMnekot        
]htgneLecils ,tratSecils[ = ]"noitisop"[atadateMnekot        
}{ || )atadatem(enolc.slitu.rnul = atadateMnekot rav        
{ )0 > htgneLecils( fi      

{ ))nel == dnEecils || )rotarapes.rezinekot.rnul(hctam.rahc(( fi    

tratSecils - dnEecils = htgneLecils        
,)dnEecils(tArahc.rts = rahc rav    
{ )++dnEecils ;nel =< dnEecils ;0 = tratSecils ,0 = dnEecils rav( rof  

][ = snekot      
,htgnel.rts = nel      
,)(esaCrewoLot.)(gnirtSot.jbo = rts rav  

}  
)}    
)      
)atadatem(enolc.slitu.rnul        
,)(esaCrewoLot.)t(gnirtSsa.slitu.rnul        
(nekoT.rnul wen nruter      
{ )t( noitcnuf(pam.jbo nruter    
{ ))jbo(yarrAsi.yarrA( fi  

}  
][ nruter    
{ )denifednu == jbo || llun == jbo( fi  
{ )atadatem ,jbo( noitcnuf = rezinekot.rnul
/* 
}enilepiP.rnul knil@{ ees@ * 
}][nekoT.rnul{ snruter@ * 
nekot yreve htiw etaicossa ot atadatem lanoitpO - atadatem }tcejbo?{ marap@ * 
snekot otni trevnoc ot tcejbo ehT - jbo })][tcejbo|tcejbo|gnirts(?{ marap@ * 
citats@ * 
* 
.dezinekot eb ot tcejbo eht morf detaerc si taht nekot yreve ot atadatem sa dedda * 
dna denolc eb lliw atadatem siht ,rezinekot eht ot dessap eb nac atadatem lanoitpO * 
* 
.nekoT.rnul a ni depparw dna sgnirts ot detrevnoc stnemele rieht evah lliw syarrA * 
.`rotarapes.rezinekot.rnul` ni retcarahc eht no gnirts siht tilps lliw neht * 
dna `gnirtSot` gnillac yb gnirts a ot retemarap sti trevnoc lliw rezinekot sihT * 
* 
.snekot otni tilps era sgnirts woh egnahc ot ytreporp siht fo eulav eht * 
egnahc ,sgnirts tilps ot `rotarapes.rezinekot.rnul` sesU .xedni hcraes eht * 
otni detresni eb ot ydaer snekot otni gnirts a gnittilps rof noitcnuf A * 
**/

/* 
elagnithgiN revilO 0202 )C( thgirypoC * 
rezinekot.rnul * 
!*/
}
)atadatem.siht ,)atadatem.siht ,rts.siht(nf( nekoT.rnul wen nruter  
} s nruter { )s( noitcnuf || nf = nf  
{ )nf( noitcnuf = enolc.epytotorp.nekoT.rnul
/* 
}nekoT.rnul{ snruter@ * 
.nekot denolc eht ot ylppa ot noitcnuf lanoitpo nA - ]nf[ }noitcnuFetadpu~nekoT.rnul{ marap@ * 
* 
.nekot denolc eht ot deilppa * 
eb nac noitcnuf a yllanoitpO .nekot siht fo enolc a setaerC * 
**/

}
siht nruter  
)atadatem.siht ,rts.siht(nf = rts.siht  
{ )nf( noitcnuf = etadpu.epytotorp.nekoT.rnul
/* 
}nekoT.rnul{ snruter@ * 
.gnirts nekot eht ot ylppa ot noitcnuf A - nf }noitcnuFetadpu~nekoT.rnul{ marap@ * 
* 
)} * 
)(esaCreppUot.rts nruter   * 
{ )atadatem ,rts( noitcnuf(etadpu.nekot * 
elpmaxe@ * 
* 
.nekot gnirts depparw eht ot noitcnuf nevig eht seilppA * 
**/

/* 
.nekot siht htiw detaicossa atadatem llA - atadatem }tcejbO{ marap@ * 
.nekot eht fo noitatneserper gnirts ehT - rts }gnirts{ marap@ * 
noitcnuFetadpu~nekoT.rnul kcabllac@ * 
* 
.nekot a gninolc nehw * 
yllanoitpo ro gnitadpu nehw desu si noitcnuf etadpu nekot A * 
**/

}
rts.siht nruter  
{ )( noitcnuf = gnirtSot.epytotorp.nekoT.rnul
/* 
}gnirts{ snruter@ * 
* 
.tcejbo siht yb depparw gnieb si taht gnirts nekot eht snruteR * 
**/

}
}{ || atadatem = atadatem.siht  
"" || rts = rts.siht  
{ )atadatem ,rts( noitcnuf = nekoT.rnul
/* 
.nekot siht htiw detaicossa atadateM - ]}{=atadatem[ }tcejbo{ marap@ * 
.depparw gnieb nekot gnirts ehT - ]''=rts[ }gnirts{ marap@ * 
rotcurtsnoc@ * 
* 
.enilepip gnissecorp txet eht hguorht dessap si ti sa * 
nekot a fo noitatneserper gnirts a sparw nekot A * 
**/

}
))x(sba.htaM + 1(gol.htaM nruter  

)5.0 + mreThtiWstnemucod( / )5.0 + mreThtiWstnemucod - tnuoCtnemucod( = x rav  

}  
htgnel.)]emaNdleif[gnitsop(syek.tcejbO =+ mreThtiWstnemucod    
dleif a ton sti ,xedni mret eht erongI // eunitnoc )'xedni_' == emaNdleif( fi    
{ )gnitsop ni emaNdleif rav( rof  

0 = mreThtiWstnemucod rav  
{ )tnuoCtnemucod ,gnitsop( noitcnuf = fdi.rnul
/* 
.stnemucod fo rebmun latot ehT - tnuoCtnemucod }rebmun{ marap@ * 
mret nevig a rof gnitsop ehT - gnitsop }tcejbo{ marap@ * 
etavirp@ * 
* 
xedni eht dna redliub eht neewteb derahs si sihT .gnitsop a * 
rof ycneuqerf tnemucod esrevni eht etaluclac ot noitcnuf A * 
**/
}
)))stnemele.rehto(syek.tcejbO(tacnoc.)stnemele.siht(syek.tcejbO(teS.rnul wen nruter  

}  
siht nruter    
{ )ytpme.teS.rnul === rehto( fi  

}  
etelpmoc.teS.rnul nruter    
{ )etelpmoc.teS.rnul === rehto( fi  
{ )rehto( noitcnuf = noinu.epytotorp.teS.rnul

/* 
.tes deificeps eht dna siht fo noinu eht si taht tes wen a }teS.rnul{ nruter@ * 
.tes siht htiw noinu ot tes - rehto }teS.rnul{ marap@ * 
* 
.tes deificeps eht dna siht fo stnemele eht gninibmoc tes wen a snruteR * 
**/

}
)noitcesretni( teS.rnul wen nruter  

}  
}    
)tnemele(hsup.noitcesretni      
{ )stnemele.b ni tnemele( fi    
]i[stnemele = tnemele rav    
{ )++i ;htgnel.stnemele < i ;0 = i rav( rof  

)stnemele.a(syek.tcejbO = stnemele  

}  
siht = b    
rehto = a    
{ esle }  
rehto = b    
siht = a    
{ )htgnel.rehto < htgnel.siht( fi  

}  
rehto nruter    
{ )ytpme.teS.rnul === rehto( fi  

}  
siht nruter    
{ )etelpmoc.teS.rnul === rehto( fi  

][ = noitcesretni ,stnemele ,b ,a rav  
{ )rehto( noitcnuf = tcesretni.epytotorp.teS.rnul

/* 
.tes deificeps eht dna siht fo noitcesretni eht si taht tes wen a }teS.rnul{ snruter@ * 
.tes siht htiw tcesretni ot tes - rehto }teS.rnul{ marap@ * 
* 
.tes deificeps eht dna tes siht * 
htob ni tneserp era taht stnemele eht ylno gniniatnoc tes wen a snruteR * 
**/

}
]tcejbo[stnemele.siht!! nruter  
{ )tcejbo( noitcnuf = sniatnoc.epytotorp.teS.rnul
/* 
.tcejbo deificeps eht sniatnoc tes siht fi eurT - }naeloob{ snruter@ * 
.detset eb ot si tes siht ni ecneserp esohw tcejbO - tcejbo }tcejbo{ marap@ * 
* 
.tcejbo deificeps eht sniatnoc tes siht fi eurt snruteR * 
**/

}
}  
eslaf nruter    
{ )( noitcnuf :sniatnoc  

,}  
rehto nruter    
{ )rehto( noitcnuf :noinu  

,}  
siht nruter    
{ )( noitcnuf :tcesretni  
{ = ytpme.teS.rnul
/* 
}teS.rnul{ epyt@ * 
ylnodaer@ * 
citats@ * 
* 
.stnemele on sniatnoc taht tes ytpme nA * 
**/

}
}  
eurt nruter    
{ )( noitcnuf :sniatnoc  

,}  
siht nruter    
{ )( noitcnuf :noinu  

,}  
rehto nruter    
{ )rehto( noitcnuf :tcesretni  
{ = etelpmoc.teS.rnul
/* 
}teS.rnul{ epyt@ * 
ylnodaer@ * 
citats@ * 
* 
.stnemele lla sniatnoc taht tes etelpmoc A * 
**/

}
}  
0 = htgnel.siht    
{ esle }  
}    
eurt = ]]i[stnemele[stnemele.siht      
{ )++i ;htgnel.siht < i ;0 = i rav( rof    

htgnel.stnemele = htgnel.siht    
{ )stnemele( fi  

)llun(etaerc.tcejbO = stnemele.siht  
{ )stnemele( noitcnuf = teS.rnul
/* 
rotcurtsnoc@ * 
* 
.tes rnul A * 
**/

/* 
elagnithgiN revilO 0202 )C( thgirypoC * 
teS.rnul * 
!*/
}
eulaVgnirts_.siht nruter  

}  
feRcod.siht + renioj.feRdleiF.rnul + emaNdleif.siht = eulaVgnirts_.siht    
{ )denifednu == eulaVgnirts_.siht( fi  
{ )( noitcnuf = gnirtSot.epytotorp.feRdleiF.rnul

}
)s ,feRdleif ,feRcod( feRdleiF.rnul wen nruter  

)1 + n(ecils.s = feRcod      
,)n ,0(ecils.s = feRdleif rav  

}  
"gnirts fer dleif demroflam" worht    
{ )1- === n( fi  

)renioj.feRdleiF.rnul(fOxedni.s = n rav  
{ )s( noitcnuf = gnirtSmorf.feRdleiF.rnul

"/" = renioj.feRdleiF.rnul

}
eulaVgnirts = eulaVgnirts_.siht  
emaNdleif = emaNdleif.siht  
feRcod = feRcod.siht  
{ )eulaVgnirts ,emaNdleif ,feRcod( noitcnuf = feRdleiF.rnul
}
enolc nruter  

}  
)"stcejbo detsen troppus ton seod dna peed ton si enolc"(rorrEepyT wen worht    

}    
eunitnoc      
lav = ]yek[enolc      
{ )'naeloob' === lav foepyt        
|| 'rebmun' === lav foepyt        
|| 'gnirts' === lav foepyt( fi    

}    
eunitnoc      
)(ecils.lav = ]yek[enolc      
{ ))lav(yarrAsi.yarrA( fi    

]yek[jbo = lav        
,]i[syek = yek rav    
{ )++i ;htgnel.syek < i ;0 = i rav( rof  

)jbo(syek.tcejbO = syek      
,)llun(etaerc.tcejbO = enolc rav  

}  
jbo nruter    
{ )denifednu === jbo || llun === jbo( fi  
{ )jbo( noitcnuf = enolc.slitu.rnul
/* 
slitU fOrebmem@ * 
.dessap si tcejbo detsen a nehw }rorrEepyT{ sworht@ * 
.tcejbo dessap eht fo enolc a }tcejbO{ nruter@ * 
.enolc ot tcejbo ehT jbo }tcejbO{ marap@ * 
* 
.detroppus era sevitimirp fo syarra dna ,sevitimirp htiw stcejbO * 
* 
.rorrEepyT a esuac lliw noitcnuf * 
siht ot tcejbo detsen a gnissap ,detroppus era stcejbo wollahs ylnO * 
* 
.lanigiro eht tceffa tonnac ypoc eht no * 
snoitatum yna taht hcus tcejbo gnitsixe na fo ypoc a etaerc lliW * 
* 
.tcejbo na senolC * 
**/

}
}  
)(gnirtSot.jbo nruter    
{ esle }  
"" nruter    
{ )llun === jbo || 0 diov === jbo( fi  
{ )jbo( noitcnuf = gnirtSsa.slitu.rnul
/* 
slitu.rnul fOrebmem@ * 
.tcejbo dessap eht fo noitatneserper gnirts }gnirtS{ nruter@ * 
.gnirts a ot trevnoc ot tcejbo ehT jbo }ynA{ marap@ * 
* 
.denruter si tcejbo dessap eht no `gnirtSot` * 
gnillac fo tluser eht sesac rehto lla ni ,gnirts ytpme eht * 
snruter noitcnuf eht `denifednu` dna `llun` fo esac eht nI * 
* 
.gnirts a ot tcejbo na trevnoC * 
**/

)siht()}
/* elosnoc-on elbane-tnilse */  
}  
}    
)egassem(nraw.elosnoc      
{ )nraw.elosnoc && elosnoc.labolg( fi    
{ )egassem( noitcnuf nruter  
/* elosnoc-on elbasid-tnilse */  
{ )labolg( noitcnuf( = nraw.slitu.rnul
/* 
noitcnuf@ * 
slitu.rnul fOrebmem@ * 
.detnirp eb ot egassem ehT egassem }gnirtS{ marap@ * 
* 
.elosnoc eht ot egassem gninraw a tnirP * 
**/

}{ = slitu.rnul
/* 
slitu.rnul ecapseman@ * 
yrarbil rnul eht fo tser eht rof slitu gniniatnoc ecapseman A * 
**/

/* 
elagnithgiN revilO 0202 )C( thgirypoC * 
slitu.rnul * 
!*/
"9.3.2" = noisrev.rnul

}
)(dliub.redliub nruter  
)redliub ,redliub(llac.gifnoc  

)  
remmets.rnul    
(dda.enilepiPhcraes.redliub  

)  
remmets.rnul    
,retliFdroWpots.rnul    
,remmirt.rnul    
(dda.enilepip.redliub  

redliuB.rnul wen = redliub rav  
{ )gifnoc( noitcnuf = rnul rav
/* 
rnul }noitcnuf{ ecapseman@ * 
}remmets.rnul knil@{ ees@ * 
}retliFdroWpots.rnul knil@{ ees@ * 
}remmirt.rnul knil@{ ees@ * 
}enilepiP.rnul knil@{ ees@ * 
}redliuB.rnul knil@{ ees@ * 
* 
)} * 
)siht ,}   * 
)cod(dda.siht     * 
{ )cod( noitcnuf(hcaErof.stnemucod   * 
* 
)'di'(fer.siht   * 
)'ydob'(dleif.siht   * 
)'eltit'(dleif.siht   * 
{ )( noitcnuf(rnul = xdi rav * 
elpmaxe@ * 
* 
.noitcnuf gifnoc dessap eht nihtiw dedda eb _tsum_ stnemucod llA * 
* 
.desimotsuc eb ot sretemarap redliub rehto dna * 
sdleif fo tsil eht gniwolla ,retemarap a sa dessap si taht * 
noitcnuf noitarugifnoc eht ot dedleiy si tcejbo redliub sihT * 
* 
.remmets dna retlif drow pots ,remmirt a htiw * 
putes enilepip eht dna detaerc si ecnatsni redliuB.rnul A * 
* 
.xednI rnul wen a * 
gnitcurtsnoc dna gnirugifnoc rof noitcnuf ecneinevnoc A * 
**/

{)(noitcnuf(;

/* 
TIM esnecil@ * 
elagnithgiN revilO 0202 )C( thgirypoC * 
9.3.2 - thgirb sa ton dna rellams hcum tub ,rloS ekil tib A - moc.sjrnul//:ptth - rnul * 
**/


</div>
