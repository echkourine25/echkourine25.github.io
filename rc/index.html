<!DOCTYPE html>
    <html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

        <!--==================== BOXICONS ====================-->
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/boxicons@latest/css/boxicons.min.css">

        <!--==================== CSS ==========-->
        <link rel="stylesheet" href="assets/css/styles.css">

        <title>Clock Ui</title>

        <style>
        table {
            border-collapse: collapse;
            width: 100%;
        }

        th, td {
            border: 1px solid #ddd; /* Add a border to both th and td elements */
            padding: 8px;
            text-align: center;
        }
    </style>
        
    </head>
    <body>
        <section class="clock container">
            <div class="clock__container grid">
                <div class="clock__content grid">
                    <div class="clock__circle">
                        <span class="clock__twelve"></span>
                        <span class="clock__three"></span>
                        <span class="clock__six"></span>
                        <span class="clock__nine"></span>
    
                        <div class="clock__rounder"></div>
                        <div class="clock__hour" id="clock-hour"></div>
                        <div class="clock__minutes" id="clock-minutes"></div>
                        <div class="clock__seconds" id="clock-seconds"></div>

                        <!-- Dark/light button -->
                        <div class="clock__theme">
                            <i class='bx bxs-moon' id="theme-button"></i>
                        </div>
                    </div>

                    <div>
                        <div class="clock__text">
                            <div class="clock__text-hour" id="text-hour"></div>
                            <div class="clock__text-minutes" id="text-minutes"></div>
                            <div class="clock__text-ampm" id="text-ampm"></div>
                        </div>
    
                        <div class="clock__date">
                            <span id="myWeatherIcon"><img id="wicon" src="" alt="Weather icon"></span>
                            <span id="date-day-week"></span>
                            <span id="date-day"></span>
                            <span id="date-month"></span>
                            <span id="date-year"></span>
                            <span id="city" class="weather__city"></span>
                            <span id="temperature" class="weather__temperature"></span>
                            <span id="weatherDescription" class="weather__description"></span>
                        </div>
                                <form id="searchForm" style="text-align:center">
    <label for="searchQuery">Search :</label>
    <input type="text" id="searchQuery" name="q" placeholder="Enter your search..." required>

    <label for="searchEngine">Engine :</label>
    <select id="searchEngine" name="engine">
        <option value="google">Google</option>
        <option value="bing">Bing</option>
        <option value="yahoo">Yahoo</option>
        <option value="duckduckgo">DuckDuckGo</option>
        <option value="ask">Ask.com</option>
        <!-- Ajoutez d'autres moteurs de recherche au besoin -->
    </select>

    <button type="button" onclick="performSearch()">Search</button>

</form>
                    </div>
                </div>
            </div>
            <h2>Agenda</h2>
            <table id="agendaTable">
    <thead>
        <tr>
            <th>Time</th>
            <th>Sunday</th>
            <th>Monday</th>
            <th>Tuesday</th>
            <th>Wednesday</th>
            <th>Thursday</th>
            <th>Friday</th>
            <th>Saturday</th>
            <!-- Ajoutez d'autres jours au besoin -->
        </tr>
    </thead>
    <tbody id="agendaBody">
        <!-- Agenda rows will be inserted here dynamically -->
    </tbody>
</table><form id="eventForm">
    <label for="eventDate">Date:</label>
    <input type="date" id="eventDate" required>

    <label for="eventTime">Time:</label>
    <input type="time" id="eventTime" required>

    <label for="eventText">Event:</label>
    <input type="text" id="eventText" placeholder="Enter event details" required>

    <button type="submit">Add Event</button>
</form>
        </section>
    <script src="assets/js/main.js"></script>
    <script>
        // Function to get user's location based on IP address
        function getUserLocation() {
            fetch('https://ipinfo.io/json?token=10f7165c2beb05') // Replace with your ipinfo.io API token
                .then(response => response.json())
                .then(data => {
                    const city = data.city;
                    document.getElementById('city').textContent = city;

                    // Call the getWeather function with the detected city
                    getWeather(city);
                })
                .catch(error => console.error('Error fetching user location:', error));
        }

        // Function to fetch weather data from OpenWeatherMap API
        function getWeather(city) {
            const apiKey = '11c2fa2e41e93d0eeda9fcc1167cf902'; // Replace with your OpenWeatherMap API key
            const apiUrl = `https://api.openweathermap.org/data/2.5/weather?q=${city}&appid=${apiKey}&units=metric`;

            fetch(apiUrl)
                .then(response => response.json())
                .then(data => {
                    // Update weather information on the page
                     var iconcode = data.weather[0].icon;
                    var iconurl = "http://openweathermap.org/img/w/" + iconcode + ".png";
                    document.getElementById('wicon').src = iconurl;
                    document.getElementById('weatherDescription').textContent = data.weather[0].description;
                    document.getElementById('temperature').textContent = `${Math.round(data.main.temp)}Â°C`;
                })
                .catch(error => console.error('Error fetching weather data:', error));
        }

        // Call the getUserLocation function on page load
        getUserLocation();

        // Schedule the getUserLocation function to be called every 30 minutes (adjust the interval as needed)
        setInterval(getUserLocation, 1800000); // 1800000 milliseconds = 30 minutes
    </script>
    </body>
</html>
